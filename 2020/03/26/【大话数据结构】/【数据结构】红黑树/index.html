<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
<script data-ad-client="ca-pub-3892229323208960" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script data-ad-client="ca-pub-8318014576592877" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<script>
	(function(){
		if(''){
			if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ','') !== ''){
				alert('å¯†ç é”™è¯¯ï¼');
				history.back();
			}
		}
	})();
</script>









<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #A0A0A0; /*è¿›åº¦æ¡é¢œè‰²*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #A0A0A0, 0 0 5px     #A0A0A0; /*é˜´å½±é¢œè‰²*/
    }
    .pace .pace-activity {
        border-top-color: #A0A0A0;    /*ä¸Šè¾¹æ¡†é¢œè‰²*/
        border-left-color: #A0A0A0;    /*å·¦è¾¹æ¡†é¢œè‰²*/
    }
</style>

<meta name="theme-color" content="#222">










<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
    
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/fsn-16x16.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/fsn-32x32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/fsn-16x16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/fsn-16x16.ico?v=5.1.4" color="#222">





  <meta name="keywords" content="æ•°æ®ç»“æ„,çº¢é»‘æ ‘,HashMap," />





  <link rel="alternate" href="/atom.xml" title="âœ¨Fsnâœ¨" type="application/atom+xml" />






<meta name="description" content="æœ€è¿‘ä¸¤å¤©çœ‹åˆ°äº†HashMapæ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬ä¸€è‡´æ€§Hashç­‰ã€‚åŸºæœ¬çš„äº†è§£äº†ã€‚å°±æ˜¯ä¸å¤ªæ™“å¾—çº¢é»‘æ ‘ã€‚   è¦æ˜¯è§‰å¾—çœ‹æ–‡æ¡£å®åœ¨è§‰å¾—ä¸é€‚çš„è¯ï¼Œå¯ä»¥å»ºè®®å…ˆå»bç«™çœ‹ä¸ªè§†é¢‘ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1tE411f7tP?p&#x3D;1   HashMapæºç é˜…è¯»å‚è€ƒï¼š  https:&#x2F;&#x2F;ke.qq.com&#x2F;webcourse&#x2F;index.html#cid&#x3D;459141&amp;te">
<meta property="og:type" content="article">
<meta property="og:title" content="çº¢é»‘æ ‘">
<meta property="og:url" content="https://fengshana.github.io/2020/03/26/%E3%80%90%E5%A4%A7%E8%AF%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91/%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%A2%E9%BB%91%E6%A0%91/index.html">
<meta property="og:site_name" content="âœ¨Fsnâœ¨">
<meta property="og:description" content="æœ€è¿‘ä¸¤å¤©çœ‹åˆ°äº†HashMapæ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬ä¸€è‡´æ€§Hashç­‰ã€‚åŸºæœ¬çš„äº†è§£äº†ã€‚å°±æ˜¯ä¸å¤ªæ™“å¾—çº¢é»‘æ ‘ã€‚   è¦æ˜¯è§‰å¾—çœ‹æ–‡æ¡£å®åœ¨è§‰å¾—ä¸é€‚çš„è¯ï¼Œå¯ä»¥å»ºè®®å…ˆå»bç«™çœ‹ä¸ªè§†é¢‘ï¼šhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1tE411f7tP?p&#x3D;1   HashMapæºç é˜…è¯»å‚è€ƒï¼š  https:&#x2F;&#x2F;ke.qq.com&#x2F;webcourse&#x2F;index.html#cid&#x3D;459141&amp;te">
<meta property="og:image" content="http://r.photo.store.qq.com/psc?/V13IdniL4CDhqM/TCfiP1YaPeRT4Jil9RANXwtNS2h4Az3HphR4uwwH7KqSe8gzFEsMBNkTR3Au3qLYYvXPbfFPT5Po4xoJCc0Uamo.m302ZQdMrc4cvikxOno!/r">
<meta property="article:published_time" content="2020-03-25T18:08:50.811Z">
<meta property="article:modified_time" content="2020-06-05T18:06:55.295Z">
<meta property="article:author" content="âœ¨ğŸ§™â€â™€ï¸âœ¨">
<meta property="article:tag" content="æ•°æ®ç»“æ„">
<meta property="article:tag" content="çº¢é»‘æ ‘">
<meta property="article:tag" content="HashMap">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://r.photo.store.qq.com/psc?/V13IdniL4CDhqM/TCfiP1YaPeRT4Jil9RANXwtNS2h4Az3HphR4uwwH7KqSe8gzFEsMBNkTR3Au3qLYYvXPbfFPT5Po4xoJCc0Uamo.m302ZQdMrc4cvikxOno!/r">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://fengshana.github.io/2020/03/26/ã€å¤§è¯æ•°æ®ç»“æ„ã€‘/ã€æ•°æ®ç»“æ„ã€‘çº¢é»‘æ ‘/"/>









  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "07d52b28"
    });
  daovoice('update');
  </script>

  <title>çº¢é»‘æ ‘ | âœ¨Fsnâœ¨</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a839053bb6194637483460a0f428730";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  
  <!-- Google AdSense start -->
  <script data-ad-client="ca-pub-3892229323208960" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Google AdSense end -->

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.js"></script>
<script src="https://unpkg.com/minigrid@3.1.1/dist/minigrid.min.js"></script>
<link rel="stylesheet" href="/photos/photos.css">
<script type="text/javascript" src="/photos/photo.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/mermaid/0.2.4/mermaid.full.min.js"></script>


<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">âœ¨Fsnâœ¨</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sentence">
          <a href="/shuoshuo" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-commenting"></i> <br />
            
            å°å¿ƒæƒ…
          </a>
        </li>
      

      
    </ul>
  

  
</nav>


<!--Â FsnÂ -->
<script type="text/javascript">
WIDGET = {FID: 'o6km9Rzhmn'}
</script>
<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>




 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="poem-wrap">
  <div class="poem-border poem-left"></div>
  <div class="poem-border poem-right"></div>
    <h1>[ğŸŒ¿è¯—é…’å¹´åğŸŒ»]</h1>
    <p id="poem">æŒ‘é€‰ä¸­ğŸŒº...ğŸƒğŸ‚</p>
    <p id="info">

  <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
  <script type="text/javascript">
    jinrishici.load(function(result) {
      poem.innerHTML = result.data.content
      info.innerHTML = 'ã€' + result.data.origin.dynasty + 'ã€‘' + result.data.origin.author + 'ğŸƒã€Š' + result.data.origin.title + 'ã€‹ğŸ‚'
      document.getElementById("poem").value(poem);
      document.getElementById("info").value(info);  
  });
  </script>
</div>

        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://fengshana.github.io/2020/03/26/%E3%80%90%E5%A4%A7%E8%AF%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91/%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%A2%E9%BB%91%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="âœ¨ğŸ§™â€â™€ï¸âœ¨">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/fsn.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="âœ¨Fsnâœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">çº¢é»‘æ ‘</h1>
        

        <div class="post-meta">
		

          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text"></span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-03-26T02:08:50+08:00">
                2020-03-26
              </time>
            

            
              
            

            
              <span class="post-meta-item-icon">
                
              </span>
              
                <span class="post-meta-item-text"></span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2020-06-06T02:06:55+08:00">
                
              </time>
            
          </span>

          
            <span class="post-category" >
            
              
              
              
                <span class="post-meta-item-text"></span>
              
              
                

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://r.photo.store.qq.com/psc?/V13IdniL4CDhqM/TCfiP1YaPeRT4Jil9RANXwtNS2h4Az3HphR4uwwH7KqSe8gzFEsMBNkTR3Au3qLYYvXPbfFPT5Po4xoJCc0Uamo.m302ZQdMrc4cvikxOno!/r" rel="gallery_ckcgavpwv00d2tcumf3071aj5"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://r.photo.store.qq.com/psc?/V13IdniL4CDhqM/TCfiP1YaPeRT4Jil9RANXwtNS2h4Az3HphR4uwwH7KqSe8gzFEsMBNkTR3Au3qLYYvXPbfFPT5Po4xoJCc0Uamo.m302ZQdMrc4cvikxOno!/r" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        <p>æœ€è¿‘ä¸¤å¤©çœ‹åˆ°äº†HashMapæ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬ä¸€è‡´æ€§Hashç­‰ã€‚<br>åŸºæœ¬çš„äº†è§£äº†ã€‚<br>å°±æ˜¯ä¸å¤ªæ™“å¾—çº¢é»‘æ ‘ã€‚  </p>
<p>è¦æ˜¯è§‰å¾—çœ‹æ–‡æ¡£å®åœ¨è§‰å¾—ä¸é€‚çš„è¯ï¼Œå¯ä»¥å»ºè®®å…ˆå»bç«™çœ‹ä¸ªè§†é¢‘ï¼š<code>https://www.bilibili.com/video/BV1tE411f7tP?p=1</code>  </p>
<p>HashMapæºç é˜…è¯»å‚è€ƒï¼š</p>
<ul>
<li><code>https://ke.qq.com/webcourse/index.html#cid=459141&amp;term_id=100549477&amp;taid=4078067153043845&amp;vid=5285890795538344618</code>  </li>
</ul>
<p>ä¸€è‡´æ€§Hash:  </p>
<ul>
<li><code>https://www.bilibili.com/video/av25184175</code>  </li>
<li><code>https://www.cnblogs.com/lpfuture/p/5796398.html</code></li>
<li>Rediså“ˆå¸Œæ§½ï¼š<code>https://blog.csdn.net/z15732621582/article/details/79121213</code></li>
</ul>
<p>blog:</p>
<ul>
<li><code>https://www.cnblogs.com/mfrank/p/9227097.html</code></li>
<li><code>https://blog.csdn.net/carson_ho/article/details/79373026</code></li>
<li><code>https://blog.csdn.net/carson_ho/article/details/79373134</code></li>
<li><code>https://www.cnblogs.com/FCWORLD/articles/8504383.html</code></li>
<li><code>https://www.cnblogs.com/leesf456/p/5242233.html</code></li>
<li><code>https://www.jianshu.com/p/400f3c019557</code></li>
</ul>
<p>æ‰“ç®—çœ‹å®Œå†ç¡è§‰ã€‚å¯¹è‡ªå·±èœœæ±è‡ªä¿¡ã€‚  </p>
<p>Nodeæ˜¯TreeNodeçš„çˆ·çˆ·ï¼Œè€Œä¸”æ™®é€šèŠ‚ç‚¹ä¸€èˆ¬æ¥è¯´ä¹Ÿæ¯”TreeNodeè¦å¤šã€‚  </p>
<ul>
<li>çº¢é»‘æ ‘ä»‹ç»</li>
<li>TreeNodeç»“æ„</li>
<li>æ ‘åŒ–çš„è¿‡ç¨‹</li>
<li>çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹</li>
<li>TreeNodeçš„å·¦æ—‹å’Œå³æ—‹</li>
<li>çº¢é»‘æ ‘çš„æ’å…¥</li>
<li>TreeNodeçš„æ’å…¥</li>
<li>çº¢é»‘æ ‘çš„åˆ é™¤</li>
<li>TreeNodeçš„åˆ é™¤</li>
</ul>
<p>ç†è®ºéƒ¨åˆ†ï¼šçº¢é»‘æ ‘éƒ¨åˆ†<br>ä»£ç å®è·µéƒ¨åˆ†ï¼šTreeNodeéƒ¨åˆ†  </p>
<p>å¥½é¥¿å•Šã€‚  </p>
<h2 id="çº¢é»‘æ ‘ä»‹ç»"><a href="#çº¢é»‘æ ‘ä»‹ç»" class="headerlink" title="çº¢é»‘æ ‘ä»‹ç»"></a>çº¢é»‘æ ‘ä»‹ç»</h2><blockquote>
<p>ä»€ä¹ˆæ˜¯æ ‘ï¼Ÿ  </p>
</blockquote>
<p> <img src="https://images2018.cnblogs.com/blog/1043143/201806/1043143-20180625235951335-1438523857.jpg" alt="image"></p>
<ul>
<li>A~H éƒ½æ˜¯æ ‘çš„èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰é›¶ä¸ªæˆ–è€…å¤šä¸ªå­èŠ‚ç‚¹ï¼Œæˆ–è€…è¯´å¤šä¸ªå­©å­ã€‚</li>
<li>ä½†æ˜¯é™¤æ ¹èŠ‚ç‚¹ä»¥å¤–ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿç§°åªè¦ä¸€ä¸ªçˆ¶äº²ã€‚</li>
<li>æœ€ä¸Šé¢çš„Aæ˜¯æ ¹èŠ‚ç‚¹ï¼Œæœ€ä¸‹é¢çš„Dã€Hã€Fã€Gæ˜¯å¶å­èŠ‚ç‚¹ã€‚</li>
<li>æ¯ä¸€ä¸ªéæ ¹èŠ‚ç‚¹ã€æœ‰ä¸”åªæœ‰ã€‘ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼›</li>
<li>æ ‘æ˜¯å…·æœ‰ã€ä¸€å±‚ä¸€å±‚ã€‘çš„ã€å±‚æ¬¡ã€‘ç»“æ„ï¼›</li>
<li>è¿™é‡ŒAä½äºç¬¬ä¸€å±‚ï¼ŒBã€Cä½äºç¬¬äºŒå±‚ï¼ŒDã€Eã€Fã€Gä½äºç¬¬ä¸‰å±‚ï¼ŒHä½äºç¬¬å››å±‚ã€‚ä»¥æ­¤ç±»æ¨ã€‚</li>
<li>å°†å·¦è¾¹çš„BèŠ‚ç‚¹éƒ¨åˆ†ï¼ˆåŒ…æ‹¬BDEHï¼‰æ‹¿å‡ºæ¥ï¼Œåˆ™åˆæ˜¯ä¸€æ£µæ ‘ï¼Œç§°ä¸ºæ ‘çš„å­æ ‘ã€‚</li>
</ul>
<blockquote>
<p>ä»€ä¹ˆæ˜¯äºŒå‰æœç´¢æ ‘ï¼Ÿ</p>
</blockquote>
<p> <img src="https://images2018.cnblogs.com/blog/1043143/201806/1043143-20180626005359234-143383116.jpg" alt="image"></p>
<ul>
<li>äºŒå‰ä»£è¡¨ä»–çš„èŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹; è€Œä¸”å·¦å³æœ‰é¡ºåºï¼Œä¸èƒ½é¢ å€’ï¼Œåˆ†åˆ«å«å·¦å­©å­å’Œå³å­©å­ï¼›è¿™ä¸¤ä¸ªèŠ‚ç‚¹äº’æˆä¸ºå…„å¼ŸèŠ‚ç‚¹ã€‚</li>
<li>4ã€9äº’ä¸ºå…„å¼Ÿï¼Œ7æ˜¯ä»–ä»¬çš„çˆ¶äº²ï¼Œ9æ˜¯2çš„å”å”ï¼Œ8æ˜¯2çš„å ‚å…„å¼Ÿã€‚</li>
<li>æ—¢ç„¶å«åšæœç´¢æ ‘ï¼Œè¡¨ç¤ºå®ƒçš„ç”¨é€”æ˜¯ä¸ºäº†ã€æ›´å¿«çš„æœç´¢å’ŒæŸ¥æ‰¾ã€‘è€Œè®¾è®¡çš„ï¼Œæ‰€ä»¥è¿™æ£µæ ‘æœ¬èº«æ»¡è¶³ã€ä¸€å®šçš„æ’åºè§„åˆ™ã€‘ï¼Œå³æ•°ç»„çš„ã€ä»»ä½•èŠ‚ç‚¹çš„å€¼å¤§äºå®ƒçš„å·¦å­©å­ï¼Œä¸”å°äºå®ƒçš„å³å­©å­ã€‘ã€‚</li>
<li>ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ã€‚</li>
</ul>
<blockquote>
<p>ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘ï¼Ÿ  </p>
</blockquote>
<p> <img src="https://images2018.cnblogs.com/blog/1043143/201806/1043143-20180626004222951-1996840383.jpg" alt="image"></p>
<ul>
<li>çº¢é»‘æ ‘ï¼Œæœ¬è´¨ä¸Šæ¥è¯´æ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘ã€‚</li>
<li>çº¢é»‘æ ‘ï¼Œå°±è·Ÿä»–çš„åå­—ä¸€æ ·ï¼Œåˆçº¢åˆé»‘ï¼Œçº¢é»‘å¹¶è¿›ï¼Œç†å®äº¤èï¼Œã€èŠ‚ç‚¹æ˜¯éçº¢å³é»‘çš„ã€‘ã€‚</li>
</ul>
<h3 id="çº¢é»‘æ ‘çš„ä¸»è¦ç‰¹æ€§"><a href="#çº¢é»‘æ ‘çš„ä¸»è¦ç‰¹æ€§" class="headerlink" title="çº¢é»‘æ ‘çš„ä¸»è¦ç‰¹æ€§"></a>çº¢é»‘æ ‘çš„ä¸»è¦ç‰¹æ€§</h3><ol>
<li>æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯é»‘è‰²ï¼Œè¦ä¹ˆæ˜¯çº¢è‰²ã€‚ï¼ˆèŠ‚ç‚¹éé»‘ç»§çº¢ï¼‰</li>
<li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚</li>
<li>æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚</li>
<li>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´çˆ¶å­èŠ‚ç‚¹ä¸èƒ½åŒæ—¶ä¸ºçº¢è‰²ï¼‰</li>
<li>ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚ï¼ˆè¿™ä¸€ç‚¹æ˜¯å¹³è¡¡çš„å…³é”®ï¼‰</li>
</ol>
<p>å…¶å®å°±æ˜¯ä¸€æ£µæ¯”è¾ƒå¹³è¡¡çš„åˆçº¢åˆé»‘çš„äºŒå‰æ ‘ã€‚  </p>
<h4 id="TreeNodeç»“æ„"><a href="#TreeNodeç»“æ„" class="headerlink" title="TreeNodeç»“æ„"></a>TreeNodeç»“æ„</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">ç”¨äºTree binsçš„Entry.</span></span><br><span class="line"><span class="comment">æ‰©å±•LinkedHashMap.Entry(è¿›è€Œæ‰©å±•Node)ï¼Œ</span></span><br><span class="line"><span class="comment">å› æ­¤å¯ä»¥ç”¨ä½œå¸¸è§„èŠ‚ç‚¹æˆ–é“¾æ¥èŠ‚ç‚¹çš„æ‰©å±•</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">static <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode&lt;K</span>,<span class="title">V&gt;</span> <span class="keyword">extends</span> <span class="title">LinkedHashMap</span>.<span class="title">Entry&lt;K</span>,<span class="title">V&gt;</span></span>&#123;</span><br><span class="line">    <span class="type">TreeNode</span>&lt;<span class="type">K</span>,<span class="type">V</span>&gt; parent;<span class="comment">//çº¢é»‘æ ‘çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="type">TreeNode</span>&lt;<span class="type">K</span>,<span class="type">V</span>&gt; left;<span class="comment">//çº¢é»‘æ ‘å·¦èŠ‚ç‚¹ï¼Ÿ</span></span><br><span class="line">    <span class="type">TreeNode</span>&lt;<span class="type">K</span>,<span class="type">V</span>&gt; right;<span class="comment">//çº¢é»‘æ ‘å³èŠ‚ç‚¹ï¼Ÿ</span></span><br><span class="line">    <span class="type">TreeNode</span>&lt;<span class="type">K</span>,<span class="type">V</span>&gt; prev;<span class="comment">//çº¢é»‘æ ‘å‰ä¸€èŠ‚ç‚¹ï¼Œåˆ é™¤åéœ€è¦å–æ¶ˆé“¾æ¥</span></span><br><span class="line">    boolean red;<span class="comment">//æ˜¯å¦ä¸ºçº¢è‰²ï¼Œæ˜¯å¦ä¸ºçº¢èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">//æ„å»ºTreeNodeæ‰€éœ€å‚æ•°</span></span><br><span class="line">    <span class="type">TreeNode</span>(int hash,<span class="type">K</span> key,<span class="type">V</span> <span class="keyword">val</span>,<span class="type">Node</span>&lt;<span class="type">K</span>,<span class="type">V</span>&gt; next)&#123;</span><br><span class="line">      <span class="keyword">super</span>(hash,key,<span class="keyword">val</span>,next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//çœç•¥åç»­ä»£ç </span></span><br></pre></td></tr></table></figure>

<p>TreeNodeç»§æ‰¿è‡ªLinkedHashMapä¸­çš„å†…éƒ¨ç±»â€”â€”-LinkedHashMap.Entry.<br>è€Œè¿™ä¸ªå†…éƒ¨ç±»åˆç»§æ‰¿è‡ªNodeï¼Œæ‰€ä»¥ç®—æ˜¯Nodeçš„å­™å­è¾ˆäº†ã€‚  </p>
<p>å±æ€§ï¼š</p>
<ul>
<li>parent ç”¨æ¥æŒ‡å‘ä»–çš„çˆ¶èŠ‚ç‚¹ã€‚</li>
<li>left æŒ‡å‘å·¦å­©å­ã€‚</li>
<li>right æŒ‡å‘å³å­©å­ã€‚</li>
<li>prev åˆ™æŒ‡å‘å‰ä¸€èŠ‚ç‚¹ï¼ˆåŸé“¾è¡¨ä¸­çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼‰</li>
</ul>
<p>æ³¨æ„ï¼Œè¿™äº›å­—æ®µè·ŸEntryï¼ŒNodeä¸­çš„å­—æ®µæ˜¯ä¸€æ ·çš„ï¼Œæ˜¯ä½¿ç”¨é»˜è®¤è®¿é—®æƒé™çš„ï¼Œæ‰€ä»¥å­ç±»å¯ä»¥ç›´æ¥ä½¿ç”¨çˆ¶ç±»çš„å±æ€§ã€‚</p>
<h4 id="æ ‘åŒ–çš„è¿‡ç¨‹"><a href="#æ ‘åŒ–çš„è¿‡ç¨‹" class="headerlink" title="æ ‘åŒ–çš„è¿‡ç¨‹"></a>æ ‘åŒ–çš„è¿‡ç¨‹</h4><p>å½“HashMapæ¡¶ä¸­çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡ä¸€å®šæ•°é‡æ—¶ï¼Œå°±ä¼šæ ‘åŒ–ï¼Œä¹Ÿå°±æ˜¯å°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘çš„ç»“æ„ã€‚</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//putæ–¹æ³•===ã€‹è°ƒç”¨putValæ–¹æ³•</span></span><br><span class="line"> <span class="keyword">public</span> V put(K <span class="built_in">key</span>, V value) &#123;</span><br><span class="line">        <span class="keyword">return</span> putVal(hash(<span class="built_in">key</span>), <span class="built_in">key</span>, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®ç°hashMapçš„putæ“ä½œ</span></span><br><span class="line">    <span class="keyword">final</span> V putVal(<span class="built_in">int</span> hash, K <span class="built_in">key</span>, V value, <span class="built_in">boolean</span> onlyIfAbsent,</span><br><span class="line">                   <span class="built_in">boolean</span> evict) &#123;</span><br><span class="line">        ...çœç•¥éƒ¨åˆ†ä»£ç ...</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, <span class="built_in">key</span>, value, <span class="keyword">null</span>);</span><br><span class="line">                        <span class="comment">//å½“æ¡¶ä¸­å…ƒç´ ä¸ªæ•°è¶…è¿‡é˜ˆå€¼ï¼ˆ8ï¼‰æ—¶å°±è¿›è¡Œæ ‘åŒ–</span></span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>)</span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">         ...çœç•¥éƒ¨åˆ†ä»£ç ...</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="çº¢é»‘æ ‘çš„å…·ä½“å®ç°æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰"><a href="#çº¢é»‘æ ‘çš„å…·ä½“å®ç°æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="çº¢é»‘æ ‘çš„å…·ä½“å®ç°æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰"></a>çº¢é»‘æ ‘çš„å…·ä½“å®ç°æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰</h2><p>åœ¨JDK1.8 HashMapä¸­ï¼Œè½¬æ¢ä¸ºçº¢é»‘æ ‘å¤§è‡´åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤  </p>
<ol>
<li>ç¬¬ä¸€é˜¶æ®µï¼šå°†é“¾è¡¨è½¬åŒ–ä¸ºäºŒå‰æ ‘</li>
<li>ç¬¬äºŒèŠ‚ç‚¹ï¼šéªŒè¯æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘çš„äº”å¤§ç‰¹å¾</li>
<li>ç¬¬ä¸‰é˜¶æ®µï¼šå¯¹äºŒå‰æ ‘è¿›è¡Œå·¦å³æ—‹è½¬æ“ä½œ</li>
</ol>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†é“¾è¡¨è½¬åŒ–ä¸ºäºŒå‰æ ‘ï¼›å³tabä¸ºé“¾è¡¨</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span> treeifyBin(Node&lt;K,V&gt;[] tab, <span class="built_in">int</span> hash) &#123;</span><br><span class="line">        <span class="built_in">int</span> n, index; Node&lt;K,V&gt; e;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        å¦‚æœnodeèŠ‚ç‚¹æ•°ç»„ä¸ºç©ºæˆ–è€…nodeèŠ‚ç‚¹æ•°ç»„çš„é•¿åº¦å°äºæœ€å°æ ‘åŒ–å®¹é‡åˆ™è¿›å…¥åˆ¤æ–­è¿›è¡Œåˆå§‹åŒ–è¯¥èŠ‚ç‚¹æ•°ç»„å§åº”è¯¥æ˜¯ã€‚æˆ–è€…æ‰©å®¹?</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        å¯¹nè¿›è¡Œèµ‹å€¼ä¸ºé“¾è¡¨çš„é•¿åº¦</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        */</span></span></span></span><br><span class="line">        <span class="keyword">if</span> (tab == <span class="keyword">null</span> || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)</span><br><span class="line">            resize();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        keyæ ¹æ®ç®—æ³•ç®—å‡ºå¾—åˆ°hash,</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        ç„¶åé€šè¿‡(n - 1) &amp; hashè¿›è¡Œå¾—åˆ°ä¸‹æ ‡indexä½ç½®ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        è¿™é‡Œæ ¹æ®(n - 1) &amp; hashå¾—åˆ°ä¸‹æ ‡ä½ç½®indexä¹Ÿæœ‰ä¸€æ®µè¯´è¾ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        è¯·çœ‹è§†é¢‘ï¼šhttps://ke.qq.com/webcourse/index.html#cid=459141&amp;term_id=100549477&amp;taid=4078067153043845&amp;vid=5285890795538344618</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        æ­¤å¤„åˆ¤æ–­NodeèŠ‚ç‚¹æ•°ç»„å½“ä¸­çš„è¯¥indexä¸‹æ ‡ä½ç½®ä¸Šçš„Nodeæ˜¯å¦ä¸ºç©º</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        å¦‚æœä¸ä¸ºç©ºåˆ™è¿›å…¥åˆ¤æ–­</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        */</span></span></span></span><br><span class="line">        <span class="comment">//é‡æ–°è®¡ç®—hashæ®µä½ï¼Œä»¥åŠtableèŠ‚ç‚¹æ•°ç»„çš„ç´¢å¼•ä½ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">//é“¾è¡¨é•¿åº¦-1&amp;hashå¾—åˆ°indexä¸‹æ ‡å–å€¼</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((e = tab[index = (n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">          <span class="comment"><span class="markdown">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">*åŒå‘é“¾è¡¨ strat*</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">***</span>/</span></span></span><br><span class="line">          <span class="comment">//å®šä¹‰æ ‘èŠ‚ç‚¹hdä¸ºç©ºï¼› æ ‘èŠ‚ç‚¹tlä¸ºç©º</span></span><br><span class="line">          <span class="comment">//hdï¼šå¤´èŠ‚ç‚¹headï¼›tl: ä¸ºèŠ‚ç‚¹tail</span></span><br><span class="line">            TreeNode&lt;K,V&gt; hd = <span class="keyword">null</span>, tl = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                å°†èŠ‚ç‚¹æ›¿æ¢ä¸ºTreeNode</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                å¾ªç¯æ‰€æœ‰èŠ‚ç‚¹ï¼›å³tabå½“ä¸­çš„æ‰€æœ‰Node(Node&lt;K,V&gt; e)</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                è·å–ç›¸å¯¹åº”çš„æ ‘èŠ‚ç‚¹p</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                */</span></span></span></span><br><span class="line">                TreeNode&lt;K,V&gt; p = replacementTreeNode(e, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//å¦‚æœå½“å‰å°¾èŠ‚ç‚¹ä¸ºç©ºåˆ™å°†å½“å‰å¾ªç¯çš„pèŠ‚ç‚¹èµ‹å€¼ç»™å¤´ç»“ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span> (tl == <span class="keyword">null</span>)</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="comment">//hdæŒ‡å‘å¤´ç»“ç‚¹</span></span><br><span class="line">                    hd = p;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                    è¿™é‡Œå…¶å®æ˜¯å°†å•é“¾è¡¨è½¬åŒ–æˆäº†åŒå‘é“¾è¡¨ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                    tlæ˜¯pçš„å‰é©±ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                    æ¯æ¬¡å¾ªç¯æ›´æ–°æŒ‡å‘åŒé“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                    ç”¨æ¥å’Œpç›¸è¿ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                    pæ˜¯å½“å‰èŠ‚ç‚¹</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                    */</span></span></span></span><br><span class="line">                    p.prev = tl;</span><br><span class="line">                    tl.next = p;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å¯¹å°¾èŠ‚ç‚¹è¿›è¡Œèµ‹å€¼ä¸ºå½“å‰æ ‘èŠ‚ç‚¹</span></span><br><span class="line">                tl = p;</span><br><span class="line"></span><br><span class="line">                <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                å¦‚æœå½“å‰æ‰§è¡Œå®Œdoåæ‰§è¡Œwhile,é¦–å…ˆè¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                å°†e.nextä¸‹ä¸€èŠ‚ç‚¹èµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹eï¼Œ</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                å¹¶åˆ¤æ–­è¯¥èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º;</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                ä¸ä¸ºç©ºçš„æƒ…å†µä¸‹ç»§ç»­æ‰§è¡Œå¦åˆ™ç»“æŸå¾ªç¯ï¼›</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">                */</span></span></span></span><br><span class="line">            &#125; <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">          <span class="comment"><span class="markdown">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">*åŒå‘é“¾è¡¨ end*</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">***</span>/</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">            å‰é¢ä»…ä»…è½¬æ¢ä¸ºåŒå‘é“¾è¡¨ï¼Œtreeifyæ‰æ˜¯è½¬æ¢çº¢é»‘æ ‘çš„å¤„ç†æ–¹æ³•å…¥å£;</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">            ç¬¬ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ä¸ºå¤´ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">            æŸ¥è¯¢é“¾è¡¨å½“ä¸­æ˜¯å¦å­˜åœ¨å¤´ç»“ç‚¹hdï¼Œå¦‚æœä¸ä¸ºç©ºå­˜åœ¨çš„è¯å³éªŒè¯</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">            */</span></span></span></span><br><span class="line">            <span class="keyword">if</span> ((tab[index] = hd) != <span class="keyword">null</span>)</span><br><span class="line">                <span class="comment">//å°†é“¾è¡¨è¿›è¡Œæ ‘åŒ–ï¼›å°†äºŒå‰æ ‘è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼›</span></span><br><span class="line">                hd.treeify(tab);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨treeifyBinå‡½æ•°ä¸­ï¼Œå…ˆå°†æ‰€æœ‰èŠ‚ç‚¹æ›¿æ¢ä¸ºTreeNodeï¼Œç„¶åå†å°†å•é“¾è¡¨è½¬ä¸ºåŒé“¾è¡¨ï¼Œæ–¹ä¾¿ä¹‹åçš„éå†å’Œç§»åŠ¨æ“ä½œã€‚<br>è€Œæœ€ç»ˆçš„æ“ä½œï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº†TreeNodeçš„æ–¹æ³•treeifyè¿›è¡Œçš„</p>
<p>çœ‹è¿™äº›ä»£ç è®©æˆ‘çœ‹å¾—æ€€ç–‘äººç”Ÿã€‚ä»¿ä½›åˆå›åˆ°äº†å½“å¹´çš„æ•°å­¦è¯¾ã€‚  </p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//æ ‘åŒ–</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">è°ƒç”¨è¿™ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨</span></span><br><span class="line"><span class="comment">åˆå§‹è¿›å…¥å€¼ä¸º thiså¤´ç»“ç‚¹</span></span><br><span class="line"><span class="comment">å°†åŒå‘é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘</span></span><br><span class="line"><span class="comment">ç›®æ ‡ï¼šæŸ¥è¯¢rootèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">éªŒè¯æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘çš„äº”å¤§ç‰¹å¾</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">final void treeify(Node&lt;K,V&gt;<span class="literal">[]</span> tab) &#123;</span><br><span class="line">            <span class="comment">//æ ‘çš„æ ¹èŠ‚ç‚¹ï¼›åˆå§‹åŒ–ä¸ºç©ºï¼›rootèŠ‚ç‚¹</span></span><br><span class="line">            TreeNode&lt;K,V&gt; root = null;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//xæ˜¯å½“å‰èŠ‚ç‚¹ï¼Œnextæ˜¯åç»§</span></span><br><span class="line">            <span class="comment">//è¿™é‡Œçš„thisæ˜¯æ ‘è½¬æ¢æ•°ç»„ç´¢å¼•å¤„çš„ç¬¬ä¸€ä¸ªé“¾è¡¨å…ƒç´ </span></span><br><span class="line">            for (TreeNode&lt;K,V&gt; x = this, next; x != null; x = next) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//next å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹nextèŠ‚ç‚¹è¿›è¡Œé‡æ–°èµ‹å€¼</span></span><br><span class="line">                next = (TreeNode&lt;K,V&gt;)x.next;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//è®¾ç½®å·¦å³èŠ‚ç‚¹ä¸ºç©º</span></span><br><span class="line">                x.left = x.right = null;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºnullï¼ŒæŠŠå½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">                <span class="comment">//é¦–æ¬¡å¾ªç¯rootæ ¹èŠ‚ç‚¹==nullï¼Œè®¾ç½®å½“å‰å¾ªç¯çš„xèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">                <span class="comment">//è®¾ç½®æ ¹èŠ‚ç‚¹ç‰¹å¾</span></span><br><span class="line">                <span class="keyword">if</span> (root<span class="operator"> == </span>null) &#123;</span><br><span class="line"></span><br><span class="line">                  <span class="comment">//å°†æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä½ç½®è®¾ç½®ä¸ºç©ºï¼›æ ¹èŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">                    x.parent = null;</span><br><span class="line">                  <span class="comment">//å°†æ ¹èŠ‚ç‚¹è®¾ç½®ä¸ºblacké»‘è‰²ï¼›æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„</span></span><br><span class="line">                    x.red = <span class="literal">false</span>;</span><br><span class="line">                  <span class="comment">//å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹é‡æ–°èµ‹å€¼</span></span><br><span class="line">                    root = x;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//å¦‚æœæ ¹èŠ‚ç‚¹ç°åœ¨ä¸ä¸ºç©ºåˆ™å½“å‰çš„xèŠ‚ç‚¹ï¼Œéæ ¹èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="comment">//å½“å‰èŠ‚ç‚¹xçš„é”®è¿›è¡Œèµ‹å€¼ç»™k</span></span><br><span class="line">                  <span class="comment">//è·å–å½“å‰å¾ªç¯èŠ‚ç‚¹xçš„Key</span></span><br><span class="line">                    K k = x.key;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//å¾—åˆ°å½“å‰è¯¥èŠ‚ç‚¹xçš„hashè¿›è¡Œèµ‹å€¼ç»™h</span></span><br><span class="line">                    <span class="comment">//è·å–å½“å‰èŠ‚ç‚¹xçš„Hash</span></span><br><span class="line">                    <span class="built_in">int</span> h = x.hash;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//å®šä¹‰keyæ‰€å±äºçš„class</span></span><br><span class="line">                    Class&lt;?&gt; kc = null;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//è¿™é‡Œå¾ªç¯éå†ï¼Œè¿›è¡ŒäºŒå‰æœç´¢æ ‘çš„æ’å…¥</span></span><br><span class="line">                    <span class="comment">//ä»æ ¹èŠ‚ç‚¹å¼€å§‹éªŒè¯</span></span><br><span class="line">                    <span class="comment">/**</span></span><br><span class="line"><span class="comment">                    å¾ªç¯è¿™ä¸ªçº¢é»‘æ ‘ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯ä»ä¸Šåˆ°ä¸‹è¿›è¡Œéå†</span></span><br><span class="line"><span class="comment">                    å¤–å±‚å¾ªç¯æ ‘èŠ‚ç‚¹ä¹Ÿå°±ç›¸å½“äºæ˜¯Entry[]å¾ªç¯ï¼Œå†…éƒ¨æ˜¯æ–°å»ºçš„ï¼Œ</span></span><br><span class="line"><span class="comment">                    å¤–å±‚å¾ªç¯åˆ°çš„å½“å‰è¯¥èŠ‚ç‚¹xä¹Ÿå°±ç›¸å½“äºEntry,ä¸æ„å»ºçš„çº¢é»‘æ ‘å½“ä¸­çš„æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºè¿›è¡Œæ¯”è¾ƒï¼Œ</span></span><br><span class="line"><span class="comment">                    å¦‚æœæ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºåˆ™è¯´æ˜å½“å‰éå†çš„xèŠ‚ç‚¹ä¸ºéæ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">                    å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºåˆ™ä½¿ä¹‹å½“å‰å¾ªç¯éå†åˆ°çš„xèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">                    */</span></span><br><span class="line">                    for (TreeNode&lt;K,V&gt; p = root;;) &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                        pæŒ‡å‘éå†ä¸­çš„å½“å‰èŠ‚ç‚¹ï¼Œ</span></span><br><span class="line"><span class="comment">                        xä¸ºå¾…æ’å…¥èŠ‚ç‚¹ï¼Œ</span></span><br><span class="line"><span class="comment">                        kæ˜¯xçš„keyï¼Œ</span></span><br><span class="line"><span class="comment">                        hæ˜¯xçš„hashå€¼ï¼Œ</span></span><br><span class="line"><span class="comment">                        phæ˜¯pçš„hashå€¼ï¼Œ</span></span><br><span class="line"><span class="comment">                        dirç”¨æ¥æŒ‡ç¤ºxèŠ‚ç‚¹ä¸pçš„æ¯”è¾ƒï¼Œ</span></span><br><span class="line"><span class="comment">                        -1è¡¨ç¤ºæ¯”på°ï¼Œ</span></span><br><span class="line"><span class="comment">                        1è¡¨ç¤ºæ¯”på¤§ï¼Œ</span></span><br><span class="line"><span class="comment">                        ä¸å­˜åœ¨ç›¸ç­‰æƒ…å†µï¼Œ</span></span><br><span class="line"><span class="comment">                        å› ä¸ºHashMapä¸­æ˜¯ä¸å­˜åœ¨ä¸¤ä¸ªkeyå®Œå…¨ä¸€è‡´çš„æƒ…å†µã€‚</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                        <span class="built_in">int</span> dir, ph;</span><br><span class="line">                        K pk = p.key;<span class="comment">//æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„key</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                        æ¯ä¸ªèŠ‚ç‚¹çš„hashä¸å¤–å±‚çš„x.hashä½œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">                        è¿™é‡Œåšäº†ä¸€ä¸ªèµ‹å€¼çš„æ“ä½œï¼Œå³å½“å‰å†…éƒ¨å¾ªç¯å½“ä¸­å¾ªç¯çš„èŠ‚ç‚¹pçš„hashèµ‹å€¼ç»™äº†ph;</span></span><br><span class="line"><span class="comment">                        å¦‚æœå½“å‰å†…éƒ¨å¾ªç¯çš„å­—èŠ‚ç‚¹çš„hashå¤§äºå¤–å±‚å¾ªç¯å½“ä¸­xçš„hashå€¼æ—¶ï¼Œåˆ™è¿›è¡Œåˆ¤æ–­å…¶hashå¤§å°ï¼Œ</span></span><br><span class="line"><span class="comment">                        é€šè¿‡åˆ¤æ–­hashå¤§å°ï¼Œ</span></span><br><span class="line"><span class="comment">                        ä»è€Œå¯ä»¥çŸ¥é“èŠ‚ç‚¹å¤§è‡´ä½ç½®ï¼Œæ¯”å¦‚åœ¨å·¦è¾¹è¿˜æ˜¯å³è¾¹</span></span><br><span class="line"><span class="comment">                        å› ä¸º(n-1) &amp; hashå¾—åˆ°indexä¸‹æ ‡ä½ç½®</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                        <span class="keyword">if</span> ((ph = p.hash) &gt; h)</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                        dirç”¨æ¥æŒ‡ç¤ºxèŠ‚ç‚¹ä¸å½“å‰å†…éƒ¨çš„pèŠ‚ç‚¹çš„æ¯”è¾ƒï¼Œ</span></span><br><span class="line"><span class="comment">                        å¦‚æœdirå°äº0ï¼Œæ²¿å·¦è·¯å¾„æŸ¥æ‰¾ï¼›</span></span><br><span class="line"><span class="comment">                        äºŒå‰æŸ¥æ‰¾æ ‘ç‰¹å¾å³ä¸ºï¼šä»»æ„èŠ‚ç‚¹å¤§äºå·¦èŠ‚ç‚¹å€¼ï¼Œå°äºå³èŠ‚ç‚¹å€¼ï¼›</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                            dir = -<span class="number">1</span>;</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                        å¦‚æœdirå¤§äº0ï¼Œåˆ™æ²¿å³è·¯å¾„æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (ph &lt; h)</span><br><span class="line">                            dir = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                        å¦‚æœhashå€¼ç›¸ç­‰ï¼Œ</span></span><br><span class="line"><span class="comment">                        é‚£ä¹ˆåˆ¤æ–­kæ˜¯å¦å®ç°äº†comparableæ¥å£ï¼Œ</span></span><br><span class="line"><span class="comment">                        å¦‚æœå®ç°äº†comparableæ¥å£å°±ä½¿ç”¨compareToè¿›è¡Œè¿›è¡Œæ¯”è¾ƒï¼Œ</span></span><br><span class="line"><span class="comment">                        å¦‚æœä»æ—§ç›¸ç­‰æˆ–è€…æ²¡æœ‰å®ç°comparableæ¥å£ï¼Œåˆ™åœ¨tieBreakOrderä¸­æ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> ((kc<span class="operator"> == </span>null &amp;&amp;</span><br><span class="line">                                  (kc = comparable<span class="constructor">ClassFor(<span class="params">k</span>)</span>)<span class="operator"> == </span>null) <span class="pattern-match"><span class="operator">||</span></span></span><br><span class="line"><span class="pattern-match">                                 (dir = compare<span class="constructor">Comparables(<span class="params">kc</span>, <span class="params">k</span>, <span class="params">pk</span>)</span>) <span class="operator">==</span> 0)</span></span><br><span class="line"><span class="pattern-match">                            dir = tie<span class="constructor">BreakOrder(<span class="params">k</span>, <span class="params">pk</span>)</span>;</span></span><br><span class="line"><span class="pattern-match"></span></span><br><span class="line"><span class="pattern-match">                        <span class="operator">/</span><span class="operator">/</span>xpèŠ‚ç‚¹ä¸ºå†…éƒ¨å¾ªç¯éå†çš„èŠ‚ç‚¹p</span></span><br><span class="line"><span class="pattern-match">                        <span class="operator">/</span><span class="operator">/</span>pè®¾ç½®ä¸ºxçš„çˆ¶èŠ‚ç‚¹ xp</span></span><br><span class="line"><span class="pattern-match">                        <span class="constructor">TreeNode</span>&lt;<span class="constructor">K</span>,<span class="constructor">V</span>&gt; xp = p;</span></span><br><span class="line"><span class="pattern-match"></span></span><br><span class="line"><span class="pattern-match">                        <span class="operator">/</span><span class="operator">**</span></span></span><br><span class="line"><span class="pattern-match">                        diré»˜è®¤ä¸º0ï¼›</span></span><br><span class="line"><span class="pattern-match">                        æ‰€ä»¥æ­¤å¤„å¦‚æœdirå°äºç­‰äº0å³å®šä¹‰ä¸ºå‘å·¦</span></span><br><span class="line"><span class="pattern-match">                        æ²¿å·¦è·¯å¾„æŸ¥æ‰¾;</span></span><br><span class="line"><span class="pattern-match">                        å¦‚æœdirå°äºç­‰äº0å–å€¼ä¸ºå†…éƒ¨å¾ªç¯èŠ‚ç‚¹pçš„å·¦èŠ‚ç‚¹å¦åˆ™ä¸ºå³èŠ‚ç‚¹;</span></span><br><span class="line"><span class="pattern-match">                        å¯¹è·å–å¾—åˆ°çš„è¯¥èŠ‚ç‚¹è¿›è¡Œåˆ¤ç©º;</span></span><br><span class="line"><span class="pattern-match">                        å†…éƒ¨å¾ªç¯ä¹Ÿæ˜¯ä»ä¸Šå¾€ä¸‹å¾ªç¯èŠ‚ç‚¹çš„ï¼›</span></span><br><span class="line"><span class="pattern-match">                        æ‰€ä»¥å¦‚æœå½“å‰å†…éƒ¨å¾ªç¯çš„pèŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹ä¸ºç©ºï¼Œå³è¿›è¡Œæ’å…¥æ“ä½œ</span></span><br><span class="line"><span class="pattern-match">                        <span class="operator">*</span><span class="operator">/</span></span></span><br><span class="line"><span class="pattern-match">                        <span class="keyword">if</span> ((p = (dir &lt;= 0) ? p.left : p.right) <span class="operator">==</span> null) &#123;</span></span><br><span class="line"><span class="pattern-match">                          <span class="operator">/</span><span class="operator">/</span>å°†xpè®¾ç½®ä¸ºxçš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line"><span class="pattern-match">                            x.parent = xp;</span></span><br><span class="line"><span class="pattern-match"></span></span><br><span class="line"><span class="pattern-match">                            <span class="keyword">if</span> (dir &lt;= 0)</span></span><br><span class="line"><span class="pattern-match">                                xp.left = x;</span></span><br><span class="line"><span class="pattern-match">                            <span class="keyword">else</span></span></span><br><span class="line"><span class="pattern-match">                                xp.right = x;</span></span><br><span class="line"><span class="pattern-match"></span></span><br><span class="line"><span class="pattern-match">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ <span class="operator">/</span><span class="operator">/</span>è¿›è¡Œæ’å…¥å¹³è¡¡å¤„ç†</span></span><br><span class="line"><span class="pattern-match">                              <span class="operator">/</span><span class="operator">/</span>å°†äºŒå‰æ ‘è½¬æ¢ä¸ºçº¢é»‘æ ‘-æ­£å¼è½¬æ¢çº¢é»‘æ ‘</span></span><br><span class="line"><span class="pattern-match">                            root = balance<span class="constructor">Insertion(<span class="params">root</span>, <span class="params">x</span>)</span>;</span></span><br><span class="line"><span class="pattern-match">                            break;</span></span><br><span class="line"><span class="pattern-match">                        &#125;</span></span><br><span class="line"><span class="pattern-match">                    &#125;</span></span><br><span class="line"><span class="pattern-match">                &#125;</span></span><br><span class="line"><span class="pattern-match">            &#125;</span></span><br><span class="line"><span class="pattern-match">ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="operator">/</span><span class="operator">/</span>ç¡®ä¿ç»™å®šèŠ‚ç‚¹æ˜¯æ¡¶ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="pattern-match">            move<span class="constructor">RootToFront(<span class="params">tab</span>, <span class="params">root</span>)</span>;</span></span><br><span class="line"><span class="pattern-match">        &#125;</span></span><br><span class="line"><span class="pattern-match"></span></span><br><span class="line"><span class="pattern-match"></span></span><br><span class="line"><span class="pattern-match">     <span class="operator">/</span><span class="operator">/</span>è¿™é‡Œä¸æ˜¯ä¸ºäº†æ•´ä½“æ’åºï¼Œè€Œæ˜¯ä¸ºäº†åœ¨æ’å…¥ä¸­ä¿æŒä¸€è‡´çš„é¡ºåº</span></span><br><span class="line"><span class="pattern-match">     static <span class="built_in">int</span> tie<span class="constructor">BreakOrder(Object <span class="params">a</span>, Object <span class="params">b</span>)</span> &#123;</span></span><br><span class="line"><span class="pattern-match">            <span class="built_in">int</span> d;</span></span><br><span class="line"><span class="pattern-match">            <span class="operator">/</span><span class="operator">/</span>ç”¨ä¸¤è€…çš„ç±»åè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™ä½¿ç”¨å¯¹è±¡é»˜è®¤çš„hashcodeè¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="pattern-match">            <span class="keyword">if</span> (a <span class="operator">==</span> null <span class="operator">||</span> b <span class="operator">==</span> null <span class="operator">||</span></span></span><br><span class="line"><span class="pattern-match">                (d = a.get<span class="constructor">Class()</span>.get<span class="constructor">Name()</span>.</span></span><br><span class="line"><span class="pattern-match">                 compare<span class="constructor">To(<span class="params">b</span>.<span class="params">getClass</span>()</span>.get<span class="constructor">Name()</span>)) <span class="operator">==</span> 0)</span></span><br><span class="line"><span class="pattern-match">                d = (<span class="constructor">System</span>.identity<span class="constructor">HashCode(<span class="params">a</span>)</span> &lt;= <span class="constructor">System</span>.identity<span class="constructor">HashCode(<span class="params">b</span>)</span> ?</span></span><br><span class="line"><span class="pattern-match">                     -1 : 1);</span></span><br><span class="line"><span class="pattern-match">            return d;</span></span><br><span class="line"><span class="pattern-match">        &#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„é€»è¾‘å…¶å®å¹¶ä¸å¤æ‚ï¼Œä»…ä»…æ˜¯å¾ªç¯éå†å½“å‰æ ‘ï¼Œç„¶åæ‰¾åˆ°å¯ä»¥è¯¥èŠ‚ç‚¹å¯ä»¥æ’å…¥çš„ä½ç½®ï¼Œä¾æ¬¡å’Œéå†èŠ‚ç‚¹æ¯”è¾ƒï¼Œæ¯”ä»–å¤§åˆ™è·Ÿå…¶å³å­©å­æ¯”è¾ƒï¼Œå°åˆ™ä¸å…¶å·¦å­©å­æ¯”è¾ƒï¼Œä¾æ¬¡éå†ï¼Œç›´åˆ°æ‰¾åˆ°å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºnullçš„ä½ç½®è¿›è¡Œæ’å…¥ã€‚  </p>
<p>çœŸæ­£å¤æ‚ä¸€ç‚¹çš„åœ°æ–¹åœ¨äºbalanceInsertionå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ï¼Œåæ¬§è¯ºä¸ªé»‘å”è¿›è¡Œæ’å…¥å¹³è¡¡å¤„ç†ï¼Œä¿è¯æ’å…¥èŠ‚ç‚¹åä»ä¿æŒçº¢é»‘æ ‘æ€§è´¨ã€‚  </p>
<p>è¿™ä¸ªå‡½æ•°ç¨ååœ¨TreeNodeçš„æ’å…¥ä¸­è¿›è¡Œä»‹ç»ï¼Œè¿™é‡Œå…ˆçœ‹moveRootToFront,è¿™ä¸ªå‡½æ•°æ˜¯å°†rootèŠ‚ç‚¹ç§»åŠ¨åˆ°åŒç§çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨çš„é¦–èŠ‚ç‚¹ï¼Œè¿™æ ·åšæ˜¯å› ä¸ºåœ¨åˆ¤æ–­åŒç§å…ƒç´ ç±»å‹çš„æ—¶å€™ä¼šå¯¹é“¾è¡¨è¿›è¡Œéå†ï¼Œå°†æ ¹èŠ‚ç‚¹ç§»åŠ¨åˆ°é“¾è¡¨å‰ç«¯å¯ä»¥ç¡®ä¿ç±»å‹åˆ¤æ–­æ—¶ä¸ä¼šå‡ºç°é”™è¯¯ã€‚</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * æŠŠç»™å®šèŠ‚ç‚¹è®¾ä¸ºæ¡¶ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line"> */        </span><br><span class="line">    static &lt;K,V&gt; void moveRootToFront(Node&lt;K,V&gt;[] tab, TreeNode&lt;K,V&gt; root) &#123;</span><br><span class="line">            <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¦‚æœæ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºä»¥åŠæ ‘èŠ‚ç‚¹æ•°ç»„ä¸ä¸ºç©ºä»¥åŠæ ‘èŠ‚ç‚¹æ•°ç»„é•¿åº¦å¤§äº0</span></span><br><span class="line">            if (root != <span class="built_in">null</span> &amp;&amp; tab != <span class="built_in">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">               <span class="comment">//å¾—åˆ°è¯¥æ ¹èŠ‚ç‚¹åœ¨è¯¥æ ‘èŠ‚ç‚¹æ•°ç»„å½“ä¸­çš„ä½ç½®ä¸‹æ ‡index</span></span><br><span class="line">                <span class="type">int</span> index = (n - <span class="number">1</span>) &amp; root.hash;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//firstæŒ‡å‘é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">                TreeNode&lt;K,V&gt; <span class="built_in">first</span> = (TreeNode&lt;K,V&gt;)tab[index];</span><br><span class="line"></span><br><span class="line">                <span class="comment">//åˆ¤æ–­å¦‚æœæ ¹èŠ‚ç‚¹ä¸indexæŸ¥æ‰¾å‡ºæ¥çš„æ ¹èŠ‚ç‚¹ä¸ä¸€è‡´åˆ™</span></span><br><span class="line">                if (root != <span class="built_in">first</span>) &#123;</span><br><span class="line">                    <span class="comment">//å¦‚æœrootä¸æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™å°†rootæ”¾åˆ°ç¬¬ä¸€ä¸ªé¦–èŠ‚ç‚¹ä½ç½®</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">//å®šä¹‰nextèŠ‚ç‚¹åº”è¯¥æ˜¯</span></span><br><span class="line">                    Node&lt;K,V&gt; rn;</span><br><span class="line"></span><br><span class="line">                  <span class="comment">//å¯¹indexä½ç½®çš„èŠ‚ç‚¹ï¼Œæ ‘èŠ‚ç‚¹æ•°ç»„è¿›è¡Œé‡æ–°èµ‹å€¼ä¸ºæŒ‡å®šçš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">                    tab[index] = root;</span><br><span class="line"></span><br><span class="line">                  <span class="comment">//rootèŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œèµ‹å€¼ç»™rp</span></span><br><span class="line">                    TreeNode&lt;K,V&gt; rp = root.<span class="built_in">prev</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//å¯¹rnè¿›è¡Œé‡æ–°èµ‹å€¼ä¸ºæ ¹èŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹ï¼Œåˆ¤ç©º</span></span><br><span class="line">                    if ((rn = root.<span class="built_in">next</span>) != <span class="built_in">null</span>)</span><br><span class="line">                        ((TreeNode&lt;K,V&gt;)rn).<span class="built_in">prev</span> = rp;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//å¯¹rpè¿›è¡Œåˆ¤ç©ºï¼Œå³æ ¹èŠ‚ç‚¹çš„ä¸Šä¸€èŠ‚ç‚¹åˆ¤ç©º</span></span><br><span class="line">                    if (rp != <span class="built_in">null</span>)</span><br><span class="line">                        rp.<span class="built_in">next</span> = rn;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//</span></span><br><span class="line">                    if (<span class="built_in">first</span> != <span class="built_in">null</span>)</span><br><span class="line">                        <span class="built_in">first</span>.<span class="built_in">prev</span> = root;</span><br><span class="line">                    root.<span class="built_in">next</span> = <span class="built_in">first</span>;</span><br><span class="line">                    root.<span class="built_in">prev</span> = <span class="built_in">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//è¿™é‡Œæ˜¯é˜²å¾¡æ€§ç¼–ç¨‹ï¼Œæ ¡éªŒæ›´æ”¹åçš„ç»“æ„æ˜¯å¦æ»¡è¶³çº¢é»‘æ ‘å’ŒåŒé“¾è¡¨çš„ç‰¹æ€§</span></span><br><span class="line">                <span class="comment">//å› ä¸ºHashMapå¹¶æ²¡æœ‰åšå¹¶å‘å®‰å…¨å¤„ç†ï¼Œå¯èƒ½åœ¨å¹¶å‘åœºæ™¯ä¸­æ„å¤–ç ´åäº†ç»“æ„</span></span><br><span class="line">                assert checkInvariants(root);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹"><a href="#çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹" class="headerlink" title="çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹"></a>çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹</h3><blockquote>
<p>å·¦æ—‹å’Œå³æ—‹ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†èŠ‚ç‚¹ä»¥æŸä¸ªèŠ‚ç‚¹å‘å·¦æˆ–è€…å‘å³è¿›è¡Œæ—‹è½¬æ“ä½œä»¥ä¿æŒäºŒå‰æ ‘çš„å¹³è¡¡</p>
</blockquote>
<h3 id="äºŒå‰æ ‘çš„å·¦æ—‹"><a href="#äºŒå‰æ ‘çš„å·¦æ—‹" class="headerlink" title="äºŒå‰æ ‘çš„å·¦æ—‹"></a>äºŒå‰æ ‘çš„å·¦æ—‹</h3><p>å·¦æ—‹ï¼šç›¸å½“äºä»¥è¦æ—‹è½¬çš„èŠ‚ç‚¹ä¸ºä¸­å¿ƒï¼Œå°†å­æ ‘æ•´ä½“å‘å·¦æ—‹è½¬ï¼Œè¯¥èŠ‚ç‚¹å˜æˆå­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼ŒåŸæ¥çš„çˆ¶èŠ‚ç‚¹Aå˜æˆäº†å·¦å­©å­ï¼Œå¦‚æœå³å­©å­Cæœ‰å·¦å­©å­Dï¼Œåˆ™å°†å…¶ä¾¿æˆä¸ºAçš„å³å­©å­  </p>
<p>å½“èŠ‚ç‚¹Aå‘å·¦æ—‹è½¬ä¹‹åï¼ŒCçš„å·¦å­©å­Då¯ä»¥ç†è§£ä¸ºå› ä¸ºé‡åŠ›é—®é¢˜æ‰åˆ°Açš„å³å­©å­çš„ä½ç½®ã€‚  </p>
<p> <img src="https://images2018.cnblogs.com/blog/1043143/201807/1043143-20180717135149338-1921395779.png" alt="image"></p>
<h3 id="äºŒå‰æ ‘çš„å³æ—‹"><a href="#äºŒå‰æ ‘çš„å³æ—‹" class="headerlink" title="äºŒå‰æ ‘çš„å³æ—‹"></a>äºŒå‰æ ‘çš„å³æ—‹</h3><p> <img src="https://images2018.cnblogs.com/blog/1043143/201807/1043143-20180717135200454-1697647783.png" alt="image"></p>
<h3 id="TreeNodeçš„å·¦æ—‹å’Œå³æ—‹"><a href="#TreeNodeçš„å·¦æ—‹å’Œå³æ—‹" class="headerlink" title="TreeNodeçš„å·¦æ—‹å’Œå³æ—‹"></a>TreeNodeçš„å·¦æ—‹å’Œå³æ—‹</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">         * å·¦æ—‹</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">static</span> &lt;K,V&gt; TreeNode&lt;K,V&gt; rotateLeft(TreeNode&lt;K,V&gt; root,</span><br><span class="line">                                              TreeNode&lt;K,V&gt; p) &#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">            è¿™é‡Œçš„på³ä¸Šå›¾çš„AèŠ‚ç‚¹ï¼Œ</span></span><br><span class="line"><span class="comment">            ræŒ‡å‘å³å­©å­å³Cï¼Œ</span></span><br><span class="line"><span class="comment">            rlæŒ‡å‘å³å­©å­çš„å·¦å­©å­å³Dï¼Œ</span></span><br><span class="line"><span class="comment">            ppä¸ºpçš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            TreeNode&lt;K,V&gt; r, pp, rl;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ¤æ–­AèŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºä»¥åŠAçš„å³èŠ‚ç‚¹CèŠ‚ç‚¹ræ˜¯å¦ä¸ä¸ºç©º,æ»¡è¶³åˆ¤æ–­å³å·¦æ—‹</span></span><br><span class="line">            <span class="keyword">if</span> (p != <span class="keyword">null</span> &amp;&amp; (r = p.right) != <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">              <span class="comment">/**</span></span><br><span class="line"><span class="comment">              å¦‚æœAçš„å³èŠ‚ç‚¹Cï¼Œ</span></span><br><span class="line"><span class="comment">              Cçš„å·¦èŠ‚ç‚¹Dèµ‹å€¼ç»™AèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ï¼›</span></span><br><span class="line"><span class="comment">              ä¸”å°†AèŠ‚ç‚¹çš„å³èŠ‚ç‚¹èµ‹å€¼ç»™r1æ ‘èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">              */</span></span><br><span class="line">                <span class="keyword">if</span> ((rl = p.right = r.left) != <span class="keyword">null</span>)</span><br><span class="line">                <span class="comment">//å°†Dçš„çˆ¶èŠ‚ç‚¹é‡æ–°èµ‹å€¼ä¸ºAèŠ‚ç‚¹</span></span><br><span class="line">                    rl.<span class="keyword">parent</span> = p;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//å°†pçš„çˆ¶èŠ‚ç‚¹çš„å­©å­èŠ‚ç‚¹æŒ‡å‘r</span></span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                Açš„çˆ¶èŠ‚ç‚¹é‡æ–°èµ‹å€¼ç»™ï¼ŒAèŠ‚ç‚¹çš„å³èŠ‚ç‚¹å³CèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">                CèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹é‡æ–°èµ‹å€¼ç»™ppèŠ‚ç‚¹ï¼Œè¿›è¡Œåˆ¤ç©º</span></span><br><span class="line"><span class="comment">                å¦‚æœä¸ºç©ºåˆ™CèŠ‚ç‚¹é‡æ–°èµ‹å€¼ç»™rootæ ¹èŠ‚ç‚¹æŒ‡å‘ï¼Œ</span></span><br><span class="line"><span class="comment">                å°†ä»CèŠ‚ç‚¹çš„æ˜¯å¦æ ‡çº¢æ”¹ä¸ºfalseï¼Œå³æ ¹èŠ‚ç‚¹çš„é¢œè‰²éƒ½æ˜¯é»‘è‰²çš„</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">                <span class="keyword">if</span> ((pp = r.<span class="keyword">parent</span> = p.<span class="keyword">parent</span>) == <span class="keyword">null</span>)</span><br><span class="line">                    (root = r).red = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                å¦‚æœAçš„çˆ¶èŠ‚ç‚¹èµ‹å€¼ç»™Cçš„çˆ¶èŠ‚ç‚¹ï¼ŒCçš„çˆ¶èŠ‚ç‚¹èµ‹å€¼ç»™ppèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">                å¦‚æœppèŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ä¸ºä¸ºAèŠ‚ç‚¹ï¼›</span></span><br><span class="line"><span class="comment">                åˆ™ppèŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹è¿›è¡Œé‡æ–°èµ‹å€¼ä¸ºCèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (pp.left == p)</span><br><span class="line">                    pp.left = r;</span><br><span class="line"></span><br><span class="line">                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                æœ€åå¦‚æœä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶åˆ™è¿›å…¥elseåˆ¤æ–­</span></span><br><span class="line"><span class="comment">                AèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹CèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ppèŠ‚ç‚¹çš„å³èŠ‚ç‚¹æ”¹ä¸ºCèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    pp.right = r;</span><br><span class="line">                <span class="comment">//å°†pç½®ä¸ºrçš„å·¦èŠ‚ç‚¹</span></span><br><span class="line">                r.left = p;</span><br><span class="line">                p.<span class="keyword">parent</span> = r;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * å³æ—‹</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">static</span> &lt;K,V&gt; TreeNode&lt;K,V&gt; rotateRight(TreeNode&lt;K,V&gt; root,</span><br><span class="line">                                               TreeNode&lt;K,V&gt; p) &#123;</span><br><span class="line">             <span class="comment">//è¿™é‡Œçš„på³ä¸Šå›¾çš„AèŠ‚ç‚¹ï¼ŒlæŒ‡å‘å·¦å­©å­å³Cï¼ŒlræŒ‡å‘å·¦å­©å­çš„å³å­©å­å³Eï¼Œppä¸ºpçš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">            TreeNode&lt;K,V&gt; l, pp, lr;</span><br><span class="line">            <span class="keyword">if</span> (p != <span class="keyword">null</span> &amp;&amp; (l = p.left) != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((lr = p.left = l.right) != <span class="keyword">null</span>)</span><br><span class="line">                    lr.<span class="keyword">parent</span> = p;</span><br><span class="line">                <span class="keyword">if</span> ((pp = l.<span class="keyword">parent</span> = p.<span class="keyword">parent</span>) == <span class="keyword">null</span>)</span><br><span class="line">                    (root = l).red = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (pp.right == p)</span><br><span class="line">                    pp.right = l;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    pp.left = l;</span><br><span class="line">                l.right = p;</span><br><span class="line">                p.<span class="keyword">parent</span> = l;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¢é»‘æ ‘çš„æ’å…¥"><a href="#çº¢é»‘æ ‘çš„æ’å…¥" class="headerlink" title="çº¢é»‘æ ‘çš„æ’å…¥"></a>çº¢é»‘æ ‘çš„æ’å…¥</h3><p>çº¢é»‘æ ‘çš„æ’å…¥ï¼Œé¦–å…ˆæ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹è¦æ’å…¥çš„ä½ç½®ã€‚<br>å³ä¸€å±‚ä¸€å±‚æ¯”è¾ƒï¼Œå¤§çš„æ”¾å³è¾¹ï¼Œå°çš„æ”¾å·¦è¾¹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºnullçš„èŠ‚ç‚¹æ”¾å…¥å³å¯ã€‚<br>å¯æ˜¯å¦‚ä½•åœ¨æ’å…¥çš„è¿‡ç¨‹ä¸­ä¿æŒçº¢é»‘æ ‘çš„ç‰¹æ€§å‘¢ï¼Œå…¶å®åˆè¿™ä¹ˆå‡ ç§æƒ…å†µï¼š</p>
<ol>
<li>æ’å…¥çš„ä¸ºæ ¹èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥æŠŠé¢œè‰²æ”¹æˆé»‘è‰²å³å¯ã€‚</li>
<li>æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯é»‘è‰²èŠ‚ç‚¹ï¼Œåˆ™ä¸éœ€è¦è°ƒæ•´ï¼Œå› ä¸ºæ’å…¥çš„èŠ‚ç‚¹ä¼šåˆå§‹åŒ–ä¸ºçº¢è‰²èŠ‚ç‚¹ï¼Œçº¢è‰²èŠ‚ç‚¹æ˜¯ä¸ä¼šå½±å“æ ‘çš„å¹³è¡¡çš„ã€‚</li>
<li>æ’å…¥çš„èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹ä¸ºnullï¼Œå³æ’å…¥çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç›´æ¥æ’å…¥å³å¯ï¼ˆå› ä¸ºæ ¹èŠ‚ç‚¹è‚¯å®šæ˜¯é»‘è‰²ï¼‰ã€‚</li>
<li>æ’å…¥çš„èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”å…¶çˆ¶èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ã€‚è¿™ç§æƒ…å†µç¨å¾®éº»çƒ¦ä¸€ç‚¹ï¼Œåˆåˆ†ä¸¤ç§å­æƒ…å†µï¼š</li>
</ol>
<ul>
<li>æ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œåˆ™å°†çˆ¶äº²èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹éƒ½æ”¹æˆé»‘è‰²ï¼Œç„¶åç¥–çˆ¶èŠ‚ç‚¹æ”¹æˆçº¢è‰²å³å¯ã€‚</li>
<li>æ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯é»‘è‰²æˆ–ä¸å­˜åœ¨ï¼š<ul>
<li>è‹¥æ’å…¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å­©å­ï¼Œåˆ™å°†å…¶çˆ¶èŠ‚ç‚¹å·¦æ—‹</li>
<li>è‹¥ä¸ºå·¦å­©å­ï¼Œåˆ™å°†å…¶çˆ¶èŠ‚ç‚¹å˜æˆé»‘è‰²èŠ‚ç‚¹ï¼Œå°†å…¶ç¥–çˆ¶èŠ‚ç‚¹å˜æˆçº¢è‰²èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶ç¥–çˆ¶èŠ‚ç‚¹å³æ—‹ã€‚</li>
</ul>
</li>
</ul>
<ol start="5">
<li>æ’å…¥çš„èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”å…¶çˆ¶èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ã€‚è¿™ç§æƒ…å†µè·Ÿä¸Šé¢æ˜¯ç±»ä¼¼çš„ï¼Œåˆ†ä¸¤ç§å­æƒ…å†µï¼š</li>
</ol>
<ul>
<li>æ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œåˆ™å°†çˆ¶äº²èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹éƒ½æ”¹æˆé»‘è‰²ï¼Œç„¶åç¥–çˆ¶èŠ‚ç‚¹æ”¹æˆçº¢è‰²å³å¯ã€‚</li>
<li>æ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯é»‘è‰²æˆ–ä¸å­˜åœ¨ï¼š<ul>
<li>è‹¥æ’å…¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œåˆ™å°†å…¶çˆ¶èŠ‚ç‚¹å³æ—‹ã€‚</li>
<li>è‹¥ä¸ºå³å­©å­ï¼Œåˆ™å°†å…¶çˆ¶èŠ‚ç‚¹å˜æˆé»‘è‰²èŠ‚ç‚¹ï¼Œå°†å…¶ç¥–çˆ¶èŠ‚ç‚¹å˜æˆçº¢è‰²èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶ç¥–çˆ¶èŠ‚ç‚¹å·¦æ—‹ã€‚</li>
</ul>
</li>
</ul>
<p>ç„¶åé‡å¤è¿›è¡Œä¸Šè¿°æ“ä½œï¼Œç›´åˆ°å˜æˆ1æˆ–2çš„æƒ…å†µæ—¶åˆ™ç»“æŸå˜æ¢ã€‚<br>æ„å»ºä¸€æ£µçº¢é»‘æ ‘ï¼Œå‡è®¾æ’å…¥çš„é¡ºåºä¸ºï¼š10,5,9,3,6,7,19,32,24,17</p>
<p>å…ˆæ¥æ’ä¸ª10ï¼Œä¸ºæƒ…å¢ƒ1ï¼Œç›´æ¥æ”¹æˆé»‘è‰²å³å¯ï¼›<br>å†æ’å…¥5ï¼Œä¸ºæƒ…å¢ƒ2ï¼Œæ¯”10å°ï¼Œæ”¾åˆ°10çš„å·¦å­©å­ä½ç½®ï¼›<br>æ’å…¥9ï¼Œæ¯”10å°ï¼Œä½†æ˜¯æ¯”5å¤§ï¼Œæ”¾åˆ°5çš„å³å­©å­ä½ç½®ï¼Œæ­¤æ—¶ä¸ºæƒ…å¢ƒ4iiaï¼Œå·¦æ—‹åå˜æˆäº†æƒ…å¢ƒ4iibï¼Œå˜è‰²å³æ—‹å³å¯å®Œæˆè½¬åŒ–ï¼›<br>æ’å…¥3åä¸ºæƒ…å¢ƒ4iï¼Œå°†çˆ¶èŠ‚ç‚¹å’Œå”å”èŠ‚ç‚¹åŒæ—¶å˜è‰²å³å¯ï¼›<br>æ’å…¥6ä¸éœ€è¦è°ƒæ•´ï¼›<br>æ’å…¥7åå˜ä¸ºæƒ…å¢ƒ5iï¼Œå˜è‰²å³å¯ã€‚<br>æ’å…¥19ä¸éœ€è¦è°ƒæ•´ï¼›<br>æ’å…¥32ï¼Œå˜æˆäº†5iibï¼Œå·¦æ—‹å˜è‰²å³å¯ï¼›<br>æ’å…¥24ï¼Œå˜æˆ5iiaï¼Œå³æ—‹å˜æˆ5iï¼Œå˜è‰²å³å¯ï¼›<br>æœ€åæ’å…¥17ï¼Œå®Œç¾</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">static &lt;K,V&gt; TreeNode&lt;K,V&gt; balanceInsertion(TreeNode&lt;K,V&gt; root,</span><br><span class="line">                                                    TreeNode&lt;K,V&gt; x) &#123;</span><br><span class="line">            x.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">            for (TreeNode&lt;K,V&gt; xp, xpp, xppl, xppr;;) &#123;</span><br><span class="line">                //æƒ…æ™¯<span class="number">1</span>ï¼šçˆ¶èŠ‚ç‚¹ä¸º<span class="literal">null</span></span><br><span class="line">                <span class="keyword">if</span> ((<span class="attr">xp</span> = x.parent) == <span class="literal">null</span>) &#123;</span><br><span class="line">                    x.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                    return x;</span><br><span class="line">                &#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ //æƒ…æ™¯<span class="number">2</span>ï¼Œ<span class="number">3</span>ï¼šçˆ¶èŠ‚ç‚¹æ˜¯é»‘è‰²èŠ‚ç‚¹æˆ–è€…ç¥–çˆ¶èŠ‚ç‚¹ä¸º<span class="literal">null</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (!xp.red || (<span class="attr">xpp</span> = xp.parent) == <span class="literal">null</span>)</span><br><span class="line">                    return root;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">4</span>ï¼šæ’å…¥çš„èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”å…¶çˆ¶èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹</span><br><span class="line">                <span class="keyword">if</span> (<span class="attr">xp</span> == (<span class="attr">xppl</span> = xpp.left)) &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">4</span>iï¼šæ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯çº¢è‰²</span><br><span class="line">                    <span class="keyword">if</span> ((<span class="attr">xppr</span> = xpp.right) != <span class="literal">null</span> &amp;&amp; xppr.red) &#123;</span><br><span class="line">                        xppr.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                        xp.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                        xpp.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                        <span class="attr">x</span> = xpp;</span><br><span class="line">                    &#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">4</span>iiï¼šæ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯é»‘è‰²æˆ–ä¸å­˜åœ¨</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">4</span>iiaï¼šæ’å…¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å³å­©å­</span><br><span class="line">                        <span class="keyword">if</span> (<span class="attr">x</span> == xp.right) &#123;</span><br><span class="line">                            <span class="attr">root</span> = rotateLeft(root, <span class="attr">x</span> = xp);</span><br><span class="line">                            <span class="attr">xpp</span> = (<span class="attr">xp</span> = x.parent) == <span class="literal">null</span> ? <span class="literal">null</span> : xp.parent;</span><br><span class="line">                        &#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">4</span>iibï¼šæ’å…¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­</span><br><span class="line">                        <span class="keyword">if</span> (xp != <span class="literal">null</span>) &#123;</span><br><span class="line">                            xp.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">if</span> (xpp != <span class="literal">null</span>) &#123;</span><br><span class="line">                                xpp.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                                <span class="attr">root</span> = rotateRight(root, xpp);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ //æƒ…æ™¯<span class="number">5</span>ï¼šæ’å…¥çš„èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹å’Œç¥–çˆ¶èŠ‚ç‚¹éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”å…¶çˆ¶èŠ‚ç‚¹æ˜¯ç¥–çˆ¶èŠ‚ç‚¹çš„å³èŠ‚ç‚¹</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">5</span>iï¼šæ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯çº¢è‰²</span><br><span class="line">                    <span class="keyword">if</span> (xppl != <span class="literal">null</span> &amp;&amp; xppl.red) &#123;</span><br><span class="line">                        xppl.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                        xp.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                        xpp.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                        <span class="attr">x</span> = xpp;</span><br><span class="line">                    &#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">5</span>iiï¼šæ’å…¥èŠ‚ç‚¹çš„å”å”èŠ‚ç‚¹æ˜¯é»‘è‰²æˆ–ä¸å­˜åœ¨</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">Â·ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">5</span>iiaï¼šæ’å…¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­ã€€</span><br><span class="line">                        <span class="keyword">if</span> (<span class="attr">x</span> == xp.left) &#123;</span><br><span class="line">                            <span class="attr">root</span> = rotateRight(root, <span class="attr">x</span> = xp);</span><br><span class="line">                            <span class="attr">xpp</span> = (<span class="attr">xp</span> = x.parent) == <span class="literal">null</span> ? <span class="literal">null</span> : xp.parent;</span><br><span class="line">                        &#125;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æƒ…æ™¯<span class="number">5</span>iibï¼šæ’å…¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å³å­©å­</span><br><span class="line">                        <span class="keyword">if</span> (xp != <span class="literal">null</span>) &#123;</span><br><span class="line">                            xp.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">if</span> (xpp != <span class="literal">null</span>) &#123;</span><br><span class="line">                                xpp.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                                <span class="attr">root</span> = rotateLeft(root, xpp);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="çº¢é»‘æ ‘çš„åˆ é™¤"><a href="#çº¢é»‘æ ‘çš„åˆ é™¤" class="headerlink" title="çº¢é»‘æ ‘çš„åˆ é™¤"></a>çº¢é»‘æ ‘çš„åˆ é™¤</h3><p>çº¢é»‘æ ‘æ˜¯ä¸€é¢—ç‰¹æ®Šçš„äºŒå‰æœç´¢æ ‘ï¼Œæ‰€ä»¥è¿›è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œå…¶å®æ˜¯å…ˆè¿›è¡ŒäºŒå‰æœç´¢æ ‘çš„åˆ é™¤ï¼Œç„¶åå†è¿›è¡Œæ•´ç†ã€‚  </p>
<p>æ‰€ä»¥ï¼Œå…¶å®è¿™é‡Œåˆ†ä¸ºä¸¤éƒ¨åˆ†å†…å®¹ï¼š</p>
<ul>
<li>äºŒå‰æœç´¢æ ‘çš„åˆ é™¤</li>
<li>çº¢é»‘æ ‘çš„åˆ é™¤è°ƒæ•´</li>
</ul>
<p>äºŒå‰æœç´¢æ ‘çš„åˆ é™¤ä¸»è¦æœ‰è¿™ä¹ˆå‡ ç§æƒ…å¢ƒï¼š<br>æƒ…å¢ƒä¸€ï¼šå¾…åˆ é™¤çš„èŠ‚ç‚¹äº”å·¦å³å­©å­ï¼›<br>æƒ…æ™¯äºŒï¼šå¾…åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰å·¦å­©å­æˆ–è€…å³å­©å­ï¼›<br>æƒ…å¢ƒä¸‰ï¼šå¾…åˆ é™¤çš„èŠ‚ç‚¹æ—¢æœ‰å·¦å­©å­åˆæœ‰å³å­©å­ï¼›</p>
<p>å¯¹äºæƒ…æ™¯ä¸€ï¼Œç›´æ¥åˆ é™¤å³å¯ï¼›<br>æƒ…æ™¯äºŒï¼Œåˆ™ç›´æ¥æŠŠè¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘ä»–çš„å·¦å­©å­æˆ–è€…å³å­©å­å³å¯ï¼›<br>æƒ…å¢ƒä¸‰ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œéœ€è¦å…ˆæ‰¾åˆ°å…¶å³å­æ ‘çš„æœ€å·¦å­©å­(æˆ–è€…å·¦å­æ ‘çš„æœ€å³å­©å­)ï¼Œå³å·¦ï¼ˆå³ï¼‰å­æ ‘ä¸­åºéå†æ—¶çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå°†å…¶ä¸å¾…åˆ é™¤çš„èŠ‚ç‚¹äº’æ¢ï¼Œæœ€åå†åˆ é™¤è¯¥èŠ‚ç‚¹ï¼ˆå¦‚æœæœ‰å³å­æ ‘ï¼Œåˆ™å³å­æ ‘ä¸Šä½ï¼‰ã€‚<br>æ€»ä¹‹ï¼Œå°±æ˜¯å…ˆæ‰¾åˆ°ä»–çš„æ›¿ä»£è€…ï¼Œæ‰¾åˆ°ä¹‹åæ›¿æ¢è¿™ä¸ªè¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œç„¶åå†æŠŠè¿™ä¸ªèŠ‚ç‚¹çœŸæ­£åˆ é™¤æ‰ã€‚  </p>
<p>å…¶å®äºŒå‰æœç´¢æ ‘çš„åˆ é™¤æ€»ä½“æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚<br>åˆ é™¤å®Œä¹‹åï¼Œå¦‚æœæ›¿ä»£è€…æ˜¯çº¢è‰²èŠ‚ç‚¹ï¼Œåˆ™ä¸éœ€è¦è°ƒæ•´ï¼›<br>å¦‚æœæ˜¯é»‘è‰²èŠ‚ç‚¹ï¼Œåˆ™ä¼šå¯¼è‡´å·¦å­æ ‘å’Œå³å­æ ‘è·¯å¾„ä¸­é»‘è‰²èŠ‚ç‚¹æ•°é‡ä¸ä¸€è‡´ï¼Œéœ€è¦è¿›è¡Œçº¢é»‘æ ‘çš„è°ƒæ•´ï¼›<br>è·Ÿä¸Šé¢ä¸€æ ·ï¼Œæ›¿ä»£èŠ‚ç‚¹ä¸ºå…¶çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­ä¸å³å­©å­çš„æƒ…å†µç±»ä¼¼ï¼Œæ‰€ä»¥è¿™é‡Œç›´è¯´å…¶ä¸ºå·¦å­©å­çš„æƒ…æ™¯ï¼ˆPSï¼šä¸Šä¸€æ­¥çš„å¯»æ‰¾æ›¿æ¢èŠ‚ç‚¹ä½¿ç”¨çš„æ˜¯å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¯¥èŠ‚ç‚¹å¦‚æœå³å­©å­ï¼Œåªèƒ½æ˜¯å³å­©å­ï¼‰ï¼›  </p>
<p>æƒ…æ™¯ä¸€ï¼šåªæœ‰å³å­©å­ä¸”ä¸ºçº¢è‰²ï¼Œç›´æ¥ç”¨å³å­©å­æ›¿æ¢è¯¥èŠ‚ç‚¹ç„¶åå˜æˆé»‘è‰²å³å¯ã€‚  </p>
<p>ï¼ˆDä»£è¡¨æ›¿ä»£èŠ‚ç‚¹ï¼Œå³è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹ï¼Œä¹‹å‰åœ¨ç»è¿‡äºŒå‰æœç´¢æ ‘çš„åˆ é™¤ä¹‹åï¼ŒDèŠ‚ç‚¹å…¶å®å·²ç»è¢«åˆ é™¤äº†ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç†è§£è¿™ä¸ªå˜åŒ–è¿‡ç¨‹ï¼Œæ‰€ä»¥æŠŠè¿™ä¸ªèŠ‚ç‚¹ä¹Ÿç”»å‡ºæ¥äº†ï¼Œæ‰€ä»¥å½“åˆçš„åˆå§‹çŠ¶æ€æ˜¯å¾…åˆ é™¤èŠ‚ç‚¹ä¸å…¶æ›¿æ¢èŠ‚ç‚¹äº’æ¢ä½ç½®ä¸é¢œè‰²å­—åçš„çŠ¶æ€ï¼‰  </p>
<p>æƒ…æ™¯äºŒï¼šåªæœ‰å³å­©å­ä¸”ä¸ºé»‘è‰²ï¼Œé‚£ä¹ˆåˆ é™¤è¯¥èŠ‚ç‚¹ä¼šå¯¼è‡´çˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹å‡ä¸€ï¼Œæ­¤æ—¶åªèƒ½å»å€ŸåŠ©å³å­æ ‘ï¼Œä»å³å­æ ‘ä¸­å€Ÿä¸€ä¸ªçº¢è‰²èŠ‚ç‚¹è¿‡æ¥å³å¯ï¼Œå…·ä½“å–å†³äºå³å­æ ‘çš„æƒ…å†µï¼Œè¿™é‡Œåˆè¦åˆ†æˆä¸¤ç§æƒ…å†µï¼š  </p>
<ul>
<li><p>å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œåˆ™æ­¤æ—¶çˆ¶èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹è‚¯å®šæœ‰ä¸¤ä¸ªå­©å­ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å·¦å³å­æ ‘è·¯å¾„ä¸Šå‡æœ‰ä¸¤ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Œæ­¤æ—¶åªéœ€å°†å…„å¼ŸèŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹é¢œè‰²äº’æ¢ï¼Œç„¶åå°†çˆ¶èŠ‚ç‚¹å·¦æ—‹ï¼Œå·¦æ—‹åï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å·¦å­æ ‘SLæŒ‚åˆ°äº†çˆ¶èŠ‚ç‚¹pçš„å³å­©å­ä½ç½®ï¼Œè¿™æ—¶ä¼šå¯¼è‡´pçš„å³å­æ ‘è·¯å¾„ä¸Šçš„é»‘è‰²èŠ‚ç‚¹æ¯”å·¦å­æ ‘å¤šä¸€ï¼Œæ­¤æ—¶å†SLç½®ä¸ºçº¢è‰²å³å¯ã€‚  </p>
</li>
<li><p>å…„å¼ŸèŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œé‚£ä¹ˆå°±åªèƒ½æ‰“ä»–å­©å­çš„ä¸»æ„äº†ã€‚è¿™é‡Œä¸»è¦å…³æ³¨è¿œä¾„å­ï¼ˆå…„å¼ŸèŠ‚ç‚¹çš„å³å­©å­ï¼Œå³SRï¼‰çš„é¢œè‰²æƒ…å†µï¼Œè¿™é‡Œåˆ†æˆä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>è¿œä¾„å­SRæ˜¯é»‘è‰²ï¼Œè¿‘ä¾„å­ä»»æ„ï¼ˆç™½è‰²ä»£è¡¨é¢œè‰²å¯ä»¥ä¸ºä»»æ„é¢œè‰²ï¼‰ï¼Œç°å°†Sè½¬ä¸ºçº¢è‰²ï¼Œç„¶åå³æ—‹ï¼Œå†å°†SLæ¢æˆPèŠ‚ç‚¹é¢œè‰²ï¼ŒPåœŸåŸé»‘è‰²ï¼ŒSä¹Ÿæ¶‚æˆé»‘è‰²ï¼Œåœ¨è¿›è¡Œå·¦æ—‹å³å¯ã€‚<br>å…¶å®ç®€å•è¯´å°±æ˜¯SLä¸Šä½ï¼Œæ›¿æ¢çˆ¶èŠ‚ç‚¹ä½ç½®ã€‚  </li>
<li>è¿œä¾„å­SRä¸ºçº¢è‰²ï¼Œè¿‘ä¾„å­ï¼ˆè¯¥å­æ ‘è·¯å¾„ä¸­æœ‰ä¸”æœ‰ä»…æœ‰ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼‰ï¼Œåˆ™ç°å°†å…„å¼ŸèŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹é¢œè‰²äº’æ¢ï¼Œå°†SRæ¶‚æˆé»‘è‰²ï¼Œå†å°†çˆ¶èŠ‚ç‚¹å·¦æ—‹å³å¯ã€‚  </li>
</ul>
</li>
</ul>
<h3 id="TreeNodeçš„åˆ é™¤èŠ‚ç‚¹"><a href="#TreeNodeçš„åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="TreeNodeçš„åˆ é™¤èŠ‚ç‚¹"></a>TreeNodeçš„åˆ é™¤èŠ‚ç‚¹</h3><p>TreeNodeåˆ é™¤èŠ‚ç‚¹å…¶å®ä¹Ÿæ˜¯ä¸¤æ­¥èµ°ï¼š  </p>
<ol>
<li>å…ˆè¿›æ€§äºŒå‰æœç´¢æ ‘çš„åˆ é™¤ï¼Œç„¶åå†è¿›è¡Œçº¢é»‘æ ‘çš„è°ƒæ•´ï¼Œè·Ÿä¹‹å‰çš„æƒ…å†µåˆ†ææ˜¯ä¸€è‡´çš„ã€‚  </li>
</ol>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">final void removeTreeNode(HashMap&lt;K,V&gt; <span class="built_in">map</span>, Node&lt;K,V&gt;[] tab, boolean movable) &#123;</span><br><span class="line"></span><br><span class="line">     ......</span><br><span class="line"></span><br><span class="line">     //pæ˜¯å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œreplacementç”¨äºåç»­çš„çº¢é»‘æ ‘è°ƒæ•´ï¼ŒæŒ‡å‘çš„æ˜¯pæˆ–è€…pçš„ç»§æ‰¿è€…ã€‚</span><br><span class="line">     //å¦‚æœpæ˜¯å¶å­èŠ‚ç‚¹ï¼Œ<span class="attr">p==replacementï¼Œå¦åˆ™replacementä¸ºpçš„å³å­æ ‘ä¸­æœ€å·¦èŠ‚ç‚¹</span></span><br><span class="line">     <span class="keyword">if</span> (replacement != p) &#123;</span><br><span class="line">        //è‹¥pä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™è®©replacementçš„çˆ¶èŠ‚ç‚¹æŒ‡å‘pçš„çˆ¶èŠ‚ç‚¹</span><br><span class="line">        TreeNode&lt;K,V&gt; <span class="attr">pp</span> = replacement.<span class="attr">parent</span> = p.parent;</span><br><span class="line">        <span class="keyword">if</span> (<span class="attr">pp</span> == <span class="literal">null</span>)</span><br><span class="line">            <span class="attr">root</span> = replacement;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="attr">p</span> == pp.left)</span><br><span class="line">            pp.<span class="attr">left</span> = replacement;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            pp.<span class="attr">right</span> = replacement;</span><br><span class="line">        p.<span class="attr">left</span> = p.<span class="attr">right</span> = p.<span class="attr">parent</span> = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //è‹¥å¾…åˆ é™¤çš„èŠ‚ç‚¹pæ—¶çº¢è‰²çš„ï¼Œåˆ™æ ‘å¹³è¡¡æœªè¢«ç ´åï¼Œæ— éœ€è¿›è¡Œè°ƒæ•´ã€‚</span><br><span class="line">    //å¦åˆ™åˆ é™¤èŠ‚ç‚¹åéœ€è¦è¿›è¡Œè°ƒæ•´</span><br><span class="line">    TreeNode&lt;K,V&gt; <span class="attr">r</span> = p.red ? root : balanceDeletion(root, replacement);</span><br><span class="line"></span><br><span class="line">    //pä¸ºå¶å­èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥å°†pä»æ ‘ä¸­æ¸…é™¤</span><br><span class="line">    <span class="keyword">if</span> (<span class="attr">replacement</span> == p) &#123;  // detach</span><br><span class="line">        TreeNode&lt;K,V&gt; <span class="attr">pp</span> = p.parent;</span><br><span class="line">        p.<span class="attr">parent</span> = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (pp != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="attr">p</span> == pp.left)</span><br><span class="line">                pp.<span class="attr">left</span> = <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="attr">p</span> == pp.right)</span><br><span class="line">                pp.<span class="attr">right</span> = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>éº»çƒ¦çš„åœ°æ–¹å°±åœ¨åˆ é™¤èŠ‚ç‚¹åçš„è°ƒæ•´äº†ï¼Œæ‰€æœ‰é€»è¾‘éƒ½åœ¨balanceDeletionå‡½æ•°é‡Œï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤ºæ ¹èŠ‚ç‚¹å’Œåˆ é™¤èŠ‚ç‚¹çš„ç»§æ‰¿è€…ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">static &lt;K,V&gt; TreeNode&lt;K,V&gt; balanceDeletion(TreeNode&lt;K,V&gt; root, TreeNode&lt;K,V&gt; x) &#123;</span><br><span class="line">    for (TreeNode&lt;K,V&gt; xp, xpl, xpr;;)  &#123;</span><br><span class="line">        //xä¸ºç©ºæˆ–xä¸ºæ ¹èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›</span><br><span class="line">        <span class="keyword">if</span> (<span class="attr">x</span> == <span class="literal">null</span> || <span class="attr">x</span> == root)</span><br><span class="line">            return root; </span><br><span class="line">        //xä¸ºæ ¹èŠ‚ç‚¹ï¼ŒæŸ“æˆé»‘è‰²ï¼Œç›´æ¥è¿”å›ï¼ˆå› ä¸ºè°ƒæ•´è¿‡åï¼Œrootå¹¶ä¸ä¸€å®šæŒ‡å‘åˆ é™¤æ“ä½œè¿‡åçš„æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœä¹‹å‰åˆ é™¤çš„æ˜¯rootèŠ‚ç‚¹ï¼Œåˆ™xå°†æˆä¸ºæ–°çš„æ ¹èŠ‚ç‚¹ï¼‰</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((<span class="attr">xp</span> = x.parent) == <span class="literal">null</span>) &#123;</span><br><span class="line">            x.<span class="attr">red</span> = <span class="literal">false</span>; </span><br><span class="line">            return x;</span><br><span class="line">        &#125;</span><br><span class="line">        //å¦‚æœxä¸ºçº¢è‰²ï¼Œåˆ™æ— éœ€è°ƒæ•´ï¼Œè¿”å›</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (x.red) &#123;</span><br><span class="line">            x.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">            return root; </span><br><span class="line">        &#125;</span><br><span class="line">        //xä¸ºå…¶çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((<span class="attr">xpl</span> = xp.left) == x) &#123;</span><br><span class="line">            //å¦‚æœå®ƒæœ‰çº¢è‰²çš„å…„å¼ŸèŠ‚ç‚¹xprï¼Œé‚£ä¹ˆå®ƒçš„çˆ¶äº²èŠ‚ç‚¹xpä¸€å®šæ˜¯é»‘è‰²èŠ‚ç‚¹</span><br><span class="line">            <span class="keyword">if</span> ((<span class="attr">xpr</span> = xp.right) != <span class="literal">null</span> &amp;&amp; xpr.red) &#123; </span><br><span class="line">                xpr.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                xp.<span class="attr">red</span> = <span class="literal">true</span>; </span><br><span class="line">                //å¯¹çˆ¶èŠ‚ç‚¹xpåšå·¦æ—‹è½¬</span><br><span class="line">                <span class="attr">root</span> = rotateLeft(root, xp); </span><br><span class="line">                //é‡æ–°å°†xpæŒ‡å‘xçš„çˆ¶èŠ‚ç‚¹ï¼ŒxpræŒ‡å‘xpæ–°çš„å³å­©å­</span><br><span class="line">                <span class="attr">xpr</span> = (<span class="attr">xp</span> = x.parent) == <span class="literal">null</span> ? <span class="literal">null</span> : xp.right; </span><br><span class="line">            &#125;</span><br><span class="line">            //å¦‚æœxprä¸ºç©ºï¼Œåˆ™å‘ä¸Šç»§ç»­è°ƒæ•´ï¼Œå°†xçš„çˆ¶èŠ‚ç‚¹xpä½œä¸ºæ–°çš„xç»§ç»­å¾ªç¯</span><br><span class="line">            <span class="keyword">if</span> (<span class="attr">xpr</span> == <span class="literal">null</span>)</span><br><span class="line">                <span class="attr">x</span> = xp; </span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                //slå’Œsråˆ†åˆ«ä¸ºå…¶è¿‘ä¾„å­å’Œè¿œä¾„å­</span><br><span class="line">                TreeNode&lt;K,V&gt; <span class="attr">sl</span> = xpr.left, <span class="attr">sr</span> = xpr.right;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">                <span class="keyword">if</span> ((<span class="attr">sr</span> == <span class="literal">null</span> || !sr.red) &amp;&amp;</span><br><span class="line">                    (<span class="attr">sl</span> == <span class="literal">null</span> || !sl.red)) &#123;</span><br><span class="line">                    xpr.<span class="attr">red</span> = <span class="literal">true</span>; //è‹¥slå’Œsréƒ½ä¸ºé»‘è‰²æˆ–è€…ä¸å­˜åœ¨ï¼Œå³xpræ²¡æœ‰çº¢è‰²å­©å­ï¼Œåˆ™å°†xpræŸ“çº¢</span><br><span class="line">                    <span class="attr">x</span> = xp; //æœ¬è½®ç»“æŸï¼Œç»§ç»­å‘ä¸Šå¾ªç¯</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    //å¦åˆ™çš„è¯ï¼Œå°±éœ€è¦è¿›ä¸€æ­¥è°ƒæ•´</span><br><span class="line">                    <span class="keyword">if</span> (<span class="attr">sr</span> == <span class="literal">null</span> || !sr.red) &#123; </span><br><span class="line">                        <span class="keyword">if</span> (sl != <span class="literal">null</span>) //è‹¥å·¦å­©å­ä¸ºçº¢ï¼Œå³å­©å­ä¸å­˜åœ¨æˆ–ä¸ºé»‘</span><br><span class="line">                            sl.<span class="attr">red</span> = <span class="literal">false</span>; //å·¦å­©å­æŸ“é»‘</span><br><span class="line">                        xpr.<span class="attr">red</span> = <span class="literal">true</span>; //å°†xpræŸ“çº¢</span><br><span class="line">                        <span class="attr">root</span> = rotateRight(root, xpr); //å³æ—‹</span><br><span class="line">                        <span class="attr">xpr</span> = (<span class="attr">xp</span> = x.parent) == <span class="literal">null</span> ?</span><br><span class="line">                            <span class="literal">null</span> : xp.right;  //å³æ—‹åï¼ŒxpræŒ‡å‘xpçš„æ–°å³å­©å­ï¼Œå³ä¸Šä¸€æ­¥ä¸­çš„sl</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (xpr != <span class="literal">null</span>) &#123;</span><br><span class="line">                        xpr.<span class="attr">red</span> = (<span class="attr">xp</span> == <span class="literal">null</span>) ? <span class="literal">false</span> : xp.red; //xpræŸ“æˆè·Ÿçˆ¶èŠ‚ç‚¹ä¸€è‡´çš„é¢œè‰²ï¼Œä¸ºåé¢çˆ¶èŠ‚ç‚¹xpçš„å·¦æ—‹åšå‡†å¤‡</span><br><span class="line">                        <span class="keyword">if</span> ((<span class="attr">sr</span> = xpr.right) != <span class="literal">null</span>)</span><br><span class="line">                            sr.<span class="attr">red</span> = <span class="literal">false</span>; //xpræ–°çš„å³å­©å­æŸ“é»‘ï¼Œé˜²æ­¢å‡ºç°ä¸¤ä¸ªçº¢è‰²ç›¸è¿</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (xp != <span class="literal">null</span>) &#123;</span><br><span class="line">                        xp.<span class="attr">red</span> = <span class="literal">false</span>; //å°†xpæŸ“é»‘ï¼Œå¹¶å¯¹å…¶å·¦æ—‹ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è¢«åˆ é™¤çš„Xæ‰€åœ¨çš„è·¯å¾„åˆå¤šäº†ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Œä»è€Œè¾¾åˆ°æ¢å¤å¹³è¡¡çš„ç›®çš„</span><br><span class="line">                        <span class="attr">root</span> = rotateLeft(root, xp);</span><br><span class="line">                    &#125;</span><br><span class="line">                    //åˆ°æ­¤è°ƒæ•´å·²ç»å®Œæ¯•ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯åå°†ç›´æ¥é€€å‡º</span><br><span class="line">                    <span class="attr">x</span> = root;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //xä¸ºå…¶çˆ¶èŠ‚ç‚¹çš„å³å­©å­ï¼Œè·Ÿä¸Šé¢ç±»ä¼¼</span><br><span class="line">        <span class="keyword">else</span> &#123; // symmetric</span><br><span class="line">            <span class="keyword">if</span> (xpl != <span class="literal">null</span> &amp;&amp; xpl.red) &#123;</span><br><span class="line">                xpl.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                xp.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                <span class="attr">root</span> = rotateRight(root, xp);</span><br><span class="line">                <span class="attr">xpl</span> = (<span class="attr">xp</span> = x.parent) == <span class="literal">null</span> ? <span class="literal">null</span> : xp.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="attr">xpl</span> == <span class="literal">null</span>)</span><br><span class="line">                <span class="attr">x</span> = xp;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                TreeNode&lt;K,V&gt; <span class="attr">sl</span> = xpl.left, <span class="attr">sr</span> = xpl.right;</span><br><span class="line">                <span class="keyword">if</span> ((<span class="attr">sl</span> == <span class="literal">null</span> || !sl.red) &amp;&amp;</span><br><span class="line">                    (<span class="attr">sr</span> == <span class="literal">null</span> || !sr.red)) &#123;</span><br><span class="line">                    xpl.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                    <span class="attr">x</span> = xp;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="attr">sl</span> == <span class="literal">null</span> || !sl.red) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (sr != <span class="literal">null</span>)</span><br><span class="line">                            sr.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                        xpl.<span class="attr">red</span> = <span class="literal">true</span>;</span><br><span class="line">                        <span class="attr">root</span> = rotateLeft(root, xpl);</span><br><span class="line">                        <span class="attr">xpl</span> = (<span class="attr">xp</span> = x.parent) == <span class="literal">null</span> ?</span><br><span class="line">                            <span class="literal">null</span> : xp.left;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (xpl != <span class="literal">null</span>) &#123;</span><br><span class="line">                        xpl.<span class="attr">red</span> = (<span class="attr">xp</span> == <span class="literal">null</span>) ? <span class="literal">false</span> : xp.red;</span><br><span class="line">                        <span class="keyword">if</span> ((<span class="attr">sl</span> = xpl.left) != <span class="literal">null</span>)</span><br><span class="line">                            sl.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (xp != <span class="literal">null</span>) &#123;</span><br><span class="line">                        xp.<span class="attr">red</span> = <span class="literal">false</span>;</span><br><span class="line">                        <span class="attr">root</span> = rotateRight(root, xp);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="attr">x</span> = root;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPS8WgpyOY*TnhQ6ra5OBonOaSJRRjYa.EwaeDcHd5u0Z2wMIczAx0nk6IHzpV2SuW5ZkbqYqWpEyQuGfndQv*mU!/r" alt="image"></p>
<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPZ0TVvbWf.6wlQibDDEU9nwepElsriUycANIyLMCH972q4*18zAQ2JnfajC3UcA3FOOYO1pY.VPGyy9Yhc5qm0U!/r" alt="image"></p>
<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPVrsS.2eQykh7ln*jpalRaYOuC840EjilEUf*3l1I4Uj5vN8oKglrkZSTgN9O7NMea.f2q30d9hZwhBgLkZ2pjc!/r" alt="image"></p>
<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPaZRzqjFpkGRmkeFlPQdsF3YnWtpVuzAnvhHE3LZZLP.CEPsRNlRt0U.WFtozxfBS3bCEjSVmbIFygRtlzEuDYY!/r" alt="image"></p>
<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPXdSPInQ3l8qS*.LcdHVIU3s1Gt6GVBtTa9yvpW2nENYOBAu4lPqx2**2LleuReBcgcvRMJXIU9kfBqvzwfvC1A!/r" alt="image"></p>
<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPek1*OE0FbhH1wkxqG3uJo4a90xtMKMRqDZROfloDawycjwz7yjR*VrmgnpyK1.DoWB9aksaXcF2svMMndLJNUU!/r" alt="image"></p>
<p><img src="https://r.photo.store.qq.com/psc?/V11rBmNJ3kviLN/hsnfJ.a5yg7.BhItQyNwPfeCIgjNMUSfKD8lKPVMn13P9lKi7RRo3e8RSqlAT5LwIXSns.TckldPKVuWYuAh17R7wiB9FFZTtwfrabXsmY8!/r" alt="image"></p>

      
    </div>
    
    
    



<div>
    
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">

  <p><span>æœ¬æ–‡æ ‡é¢˜:</span>çº¢é»‘æ ‘ğŸ“</a></p>
  <p><span>æ–‡ç« ä½œè€…:</span>âœ¨ğŸ§™â€â™€ï¸âœ¨</a></p>
  <p><span>å‘å¸ƒæ—¶é—´:</span>2020å¹´03æœˆ26æ—¥ - 02:08:50ğŸŒ</p>
  <p><span>æœ€åæ›´æ–°:</span>2020å¹´06æœˆ06æ—¥ - 02:06:55ğŸŒœ</p>
  <p><span>åŸå§‹é“¾æ¥:</span><a href="/2020/03/26/%E3%80%90%E5%A4%A7%E8%AF%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91/%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%A2%E9%BB%91%E6%A0%91/" title="çº¢é»‘æ ‘">https://fengshana.github.io/2020/03/26/%E3%80%90%E5%A4%A7%E8%AF%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91/%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%A2%E9%BB%91%E6%A0%91/</a>
    <span class="copy-path"  title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard" data-clipboard-text="https://fengshana.github.io/2020/03/26/%E3%80%90%E5%A4%A7%E8%AF%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91/%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%A2%E9%BB%91%E6%A0%91/"  aria-label="å¤åˆ¶æˆåŠŸï¼"></i></span>
  </p>
  <p><span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚ğŸ„	</p>  
</div>
<style>
</style>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        //swal({   
          //title: "",   
         // text: '<div style="width:300px;height:100px;font-size:14px;">é“å‹ï¼Œå¤åˆ¶æˆåŠŸäº†å“Ÿ(ï¼¾ï¼µï¼¾)ãƒ~</div>',   
          //html: true,
          //timer: 500,   
        //showConfirmButton: false
        //});
      });
      new ClipboardJS('.fa-clipboard', {
          target: function(trigger) {
              $('<div>').appendTo('body').addClass('alert alert-success').html('ğŸ¤ é“å‹á•¦(ï½¥ã…‚ï½¥)á•¤ï¼ŒğŸ¥­å¤åˆ¶æˆåŠŸäº†å“Ÿ(^_âˆ’)â˜†').show().delay(1500).fadeOut();
              return trigger.nextElementSibling;
            }
      });
    }));  
</script>


    
</div>



    








<div>
  
    <div>
    
        <br/>
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------ğŸ“ğŸ‡æœ¬æ–‡ç»“æŸğŸ¤æ„Ÿè°¢é“å‹çš„é˜…è¯»ğŸğŸ’-------------</div>
    
</div>
  
</div>












    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>ğŸ¥•ğŸ†åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ğŸ³ï¼ŒğŸŒ½ğŸ¥¬æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼ğŸ¬</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>æ‰“èµ</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatreward.png" alt="âœ¨ğŸ§™â€â™€ï¸âœ¨ å¾®ä¿¡æ”¯ä»˜"/>
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipayreward.png" alt="âœ¨ğŸ§™â€â™€ï¸âœ¨ æ”¯ä»˜å®"/>
        <p>æ”¯ä»˜å®</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    










    <footer class="post-footer">
      
        <div class="post-tags" style="text-align:center">
          
            <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">ğŸŒŸæ•°æ®ç»“æ„</i></a>
          
            <a href="/tags/%E7%BA%A2%E9%BB%91%E6%A0%91/" rel="tag">ğŸŒŸçº¢é»‘æ ‘</i></a>
          
            <a href="/tags/HashMap/" rel="tag">ğŸŒŸHashMap</i></a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/03/21/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91/lesson3/" rel="next" title="In the Supermarket">
                ğŸ‘ˆ In the Supermarket
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/29/%E3%80%90%E9%9D%A2%E8%AF%95%E3%80%91/%E3%80%90%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93%E3%80%91%E4%BB%8A%E5%B9%B4%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" rel="prev" title="é¢è¯•">
                é¢è¯• ğŸ‘‰
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80ODk3My8yNTQ2Nw=="></div>
    </div>

  
  
  

  
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/fsn.jpg"
                alt="âœ¨ğŸ§™â€â™€ï¸âœ¨" />
            
              <p class="site-author-name" itemprop="name">âœ¨ğŸ§™â€â™€ï¸âœ¨</p>
              <p class="site-description motion-element" itemprop="description">ğŸŒˆå‹¿å¿˜åˆå¿ƒğŸ’« ğŸŒï¼ŒğŸŒœæ–¹å¾—å§‹ç»ˆâ­</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <!--<a href="/archives/%7C%7Carchive">-->
                <a href="/archives/">
              
                  <span class="site-state-item-count">155</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">28</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">84</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fengshana" target="_blank" title="GitHub">
                      
                        <i 
                          
                          class="fa fa-fw fa-github">
                           
                        </i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://space.bilibili.com/475144966" target="_blank" title="Bilibili">
                      
                        <i 
                          
                            class="">ğŸ’œ
                           
                        </i>Bilibili</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://user.qzone.qq.com/2915324940" target="_blank" title="QQ">
                      
                        <i 
                          
                            class="">ğŸ§¡
                           
                        </i>QQ</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://user.qzone.qq.com/198866436" target="_blank" title="QQ2">
                      
                        <i 
                          
                            class="">ğŸ’™
                           
                        </i>QQ2</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://gracg.com/user/user15472vJMQiV" target="_blank" title="Gracg">
                      
                        <i 
                          
                            class="">ğŸ’š
                           
                        </i>Gracg</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://gongzifengyue.gitee.io/fengshana.io" target="_blank" title="Gitee">
                      
                        <i 
                          
                            class="">ğŸ’›
                           
                        </i>Gitee</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title" style="color:white;">
                <i class="fa  fa-fw fa-link"></i>
                å‹æƒ…é“¾æ¥ğŸ’¦
              </div>
			  
			  
			  
			  
			  
			  
			  
			  
                

				  <span class="links-of-blogroll-item">
                    <a href="http://ruiyeclub.cn" title="chenrui" target="_blank">chenrui</a>
					 </span>
                

                
				
				
			  
			  
			  
			  
			  
			  
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#çº¢é»‘æ ‘ä»‹ç»"><span class="nav-number">1.</span> <span class="nav-text">çº¢é»‘æ ‘ä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#çº¢é»‘æ ‘çš„ä¸»è¦ç‰¹æ€§"><span class="nav-number">1.1.</span> <span class="nav-text">çº¢é»‘æ ‘çš„ä¸»è¦ç‰¹æ€§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TreeNodeç»“æ„"><span class="nav-number">1.1.1.</span> <span class="nav-text">TreeNodeç»“æ„</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ ‘åŒ–çš„è¿‡ç¨‹"><span class="nav-number">1.1.2.</span> <span class="nav-text">æ ‘åŒ–çš„è¿‡ç¨‹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#çº¢é»‘æ ‘çš„å…·ä½“å®ç°æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰"><span class="nav-number">2.</span> <span class="nav-text">çº¢é»‘æ ‘çš„å…·ä½“å®ç°æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹"><span class="nav-number">2.1.</span> <span class="nav-text">çº¢é»‘æ ‘çš„å·¦æ—‹å’Œå³æ—‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äºŒå‰æ ‘çš„å·¦æ—‹"><span class="nav-number">2.2.</span> <span class="nav-text">äºŒå‰æ ‘çš„å·¦æ—‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äºŒå‰æ ‘çš„å³æ—‹"><span class="nav-number">2.3.</span> <span class="nav-text">äºŒå‰æ ‘çš„å³æ—‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TreeNodeçš„å·¦æ—‹å’Œå³æ—‹"><span class="nav-number">2.4.</span> <span class="nav-text">TreeNodeçš„å·¦æ—‹å’Œå³æ—‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#çº¢é»‘æ ‘çš„æ’å…¥"><span class="nav-number">2.5.</span> <span class="nav-text">çº¢é»‘æ ‘çš„æ’å…¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#çº¢é»‘æ ‘çš„åˆ é™¤"><span class="nav-number">2.6.</span> <span class="nav-text">çº¢é»‘æ ‘çš„åˆ é™¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TreeNodeçš„åˆ é™¤èŠ‚ç‚¹"><span class="nav-number">2.7.</span> <span class="nav-text">TreeNodeçš„åˆ é™¤èŠ‚ç‚¹</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      


      


    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">ğŸŒ±2019 ğŸ„ ğŸŒ³

<span itemprop="copyrightYear">2020</span>
  <span class="with-love">
  <!--user-->
    ğŸ‰
  </span>
 
 <span class="author" itemprop="copyrightHolder">Fsnâœ¨ğŸ§™â€â™€ï¸âœ¨</span>

  





  <script async src="http://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
 
     ğŸƒâ€â™‚ï¸ 
    <span class="post-meta-item-icon">
      ğŸ“ˆ
    </span>
    
      <span class="post-meta-item-text">å°å±‹ğŸ’’æ€»å­—æ•°ï¼š</span>
    
	<span title="Site words total count">
     606.2kğŸŒŸ </span>
    <!--<span title="symbols_count_time.count_total">1.2m</span>-->
  
</div>



  <!-- <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>-->






<!--



 -->
 






        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-beta.2/lazyload.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  













  





  

  

  

  
  

  

  

  
  <script type="text/javascript" src="/js/src/exturl.js?v=5.1.4"></script>


  
  
  
  <!-- 
  
  -->
  <link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>

  <!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½    <script src="dist/clipboard.min.js"></script>-->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
  


</body>
</html>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/src/love.js"></script>

<!--å´©æºƒæ¬ºéª— <script type="text/javascript" src="/js/src/crash_cheat.js"></script> -->




