<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<script>
	(function(){
		if(''){
			if (prompt('请输入文章密码','') !== ''){
				alert('密码错误！');
				history.back();
			}
		}
	})();
</script>









<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #A0A0A0; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #A0A0A0, 0 0 5px     #A0A0A0; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #A0A0A0;    /*上边框颜色*/
        border-left-color: #A0A0A0;    /*左边框颜色*/
    }
</style>

<meta name="theme-color" content="#222">










<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
    
  
  <link href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/fsn-16x16.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/fsn-32x32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/fsn-16x16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/fsn-16x16.ico?v=5.1.4" color="#222">





  <meta name="keywords" content="面试,redis," />





  <link rel="alternate" href="/atom.xml" title="✨Fsn✨" type="application/atom+xml" />






<meta name="description" content="前言观看视频: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1CJ411m7Gc?from&#x3D;search&amp;seid&#x3D;17203994801277039493 112节Redis入门到精通【黑马程序员】课程安排Windows环境进行讲解 Redis基础   Redis入门 数据类型（数据的存储格式） 通用命令 Jedis（Java如何连接redis以及操作redis）">
<meta property="og:type" content="article">
<meta property="og:title" content="112节Redis入门到精通【黑马程序员】">
<meta property="og:url" content="https://fengshana.github.io/2020/05/13/%E3%80%90REDIS%E3%80%91/%E3%80%90REDIS%E3%80%91112%E8%8A%82Redis%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%E3%80%90%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98%E3%80%91/index.html">
<meta property="og:site_name" content="✨Fsn✨">
<meta property="og:description" content="前言观看视频: https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1CJ411m7Gc?from&#x3D;search&amp;seid&#x3D;17203994801277039493 112节Redis入门到精通【黑马程序员】课程安排Windows环境进行讲解 Redis基础   Redis入门 数据类型（数据的存储格式） 通用命令 Jedis（Java如何连接redis以及操作redis）">
<meta property="og:image" content="http://r.photo.store.qq.com/psc?/V13IdniL3IuSOB/TCfiP1YaPeRT4Jil9RANX*8Y..NYk24lW9.PvM8cN1jNc4MjpCbXsvRNsshEhiQnpl1ZZiFp1mCtmlwK1mZMIJHEWuKaEyqVp2L2WetZbWI!/r">
<meta property="article:published_time" content="2020-05-13T13:49:09.207Z">
<meta property="article:modified_time" content="2020-06-05T17:55:01.019Z">
<meta property="article:author" content="Fsn✨🧙‍♀️✨">
<meta property="article:tag" content="面试">
<meta property="article:tag" content="redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://r.photo.store.qq.com/psc?/V13IdniL3IuSOB/TCfiP1YaPeRT4Jil9RANX*8Y..NYk24lW9.PvM8cN1jNc4MjpCbXsvRNsshEhiQnpl1ZZiFp1mCtmlwK1mZMIJHEWuKaEyqVp2L2WetZbWI!/r">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://fengshana.github.io/2020/05/13/【REDIS】/【REDIS】112节Redis入门到精通【黑马程序员】/"/>









  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "07d52b28"
    });
  daovoice('update');
  </script>

  <title>112节Redis入门到精通【黑马程序员】 | ✨Fsn✨</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a839053bb6194637483460a0f428730";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.js"></script>
<script src="https://unpkg.com/minigrid@3.1.1/dist/minigrid.min.js"></script>
<link rel="stylesheet" href="/photos/photos.css">
<script type="text/javascript" src="/photos/photo.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/mermaid/0.2.4/mermaid.full.min.js"></script>


<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">✨Fsn✨</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-camera">
          <a href="/photos/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-camera"></i> <br />
            
            相册
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sentence">
          <a href="/shuoshuo" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-commenting"></i> <br />
            
            小心情
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>







 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="poem-wrap">
  <div class="poem-border poem-left"></div>
  <div class="poem-border poem-right"></div>
    <h1>[🌿诗酒年华🌻]</h1>
    <p id="poem">挑选中🌺...🍃🍂</p>
    <p id="info">

  <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
  <script type="text/javascript">
    jinrishici.load(function(result) {
      poem.innerHTML = result.data.content
      info.innerHTML = '【' + result.data.origin.dynasty + '】' + result.data.origin.author + '🍃《' + result.data.origin.title + '》🍂'
      document.getElementById("poem").value(poem);
      document.getElementById("info").value(info);  
  });
  </script>
</div>

        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://fengshana.github.io/2020/05/13/%E3%80%90REDIS%E3%80%91/%E3%80%90REDIS%E3%80%91112%E8%8A%82Redis%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%E3%80%90%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98%E3%80%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fsn✨🧙‍♀️✨">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/fsn.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="✨Fsn✨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">112节Redis入门到精通【黑马程序员】</h1>
        

        <div class="post-meta">
		

          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-13T21:49:09+08:00">
                2020-05-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2020-06-06T01:55:01+08:00">
                2020-06-06
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">面试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  12k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  49
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 href="http://r.photo.store.qq.com/psc?/V13IdniL3IuSOB/TCfiP1YaPeRT4Jil9RANX*8Y..NYk24lW9.PvM8cN1jNc4MjpCbXsvRNsshEhiQnpl1ZZiFp1mCtmlwK1mZMIJHEWuKaEyqVp2L2WetZbWI!/r" rel="gallery_ckb6xmrmr00eca0umh9t4eb0n"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="http://r.photo.store.qq.com/psc?/V13IdniL3IuSOB/TCfiP1YaPeRT4Jil9RANX*8Y..NYk24lW9.PvM8cN1jNc4MjpCbXsvRNsshEhiQnpl1ZZiFp1mCtmlwK1mZMIJHEWuKaEyqVp2L2WetZbWI!/r" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>观看视频: <code>https://www.bilibili.com/video/BV1CJ411m7Gc?from=search&amp;seid=17203994801277039493</code></p>
<h2 id="112节Redis入门到精通【黑马程序员】"><a href="#112节Redis入门到精通【黑马程序员】" class="headerlink" title="112节Redis入门到精通【黑马程序员】"></a>112节Redis入门到精通【黑马程序员】</h2><h3 id="课程安排"><a href="#课程安排" class="headerlink" title="课程安排"></a>课程安排</h3><h4 id="Windows环境进行讲解"><a href="#Windows环境进行讲解" class="headerlink" title="Windows环境进行讲解"></a>Windows环境进行讲解</h4><ol>
<li>Redis基础</li>
</ol>
<ul>
<li>Redis入门</li>
<li>数据类型（数据的存储格式）</li>
<li>通用命令</li>
<li>Jedis（Java如何连接redis以及操作redis）</li>
</ul>
<h4 id="Linux环境实操（实操性实用性强）"><a href="#Linux环境实操（实操性实用性强）" class="headerlink" title="Linux环境实操（实操性实用性强）"></a>Linux环境实操（实操性实用性强）</h4><ol start="2">
<li>Redis高级</li>
</ol>
<ul>
<li>持久化</li>
<li>redis.conf</li>
<li>事务</li>
<li>集群</li>
</ul>
<ol start="3">
<li>Redis应用</li>
</ol>
<ul>
<li>企业级解决方案</li>
</ul>
<h3 id="redis入门-NoSQL介绍"><a href="#redis入门-NoSQL介绍" class="headerlink" title="redis入门-NoSQL介绍"></a>redis入门-NoSQL介绍</h3><h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><ul>
<li>Redis简介</li>
<li>Redis的下载与安装</li>
<li>Redis的基本操作</li>
</ul>
<h4 id="中国被世界黑的最惨的一天"><a href="#中国被世界黑的最惨的一天" class="headerlink" title="中国被世界黑的最惨的一天"></a>中国被世界黑的最惨的一天</h4><p>2007年10月30日，北京奥运会门票面向境内公众第二阶段预售正式启动。<br>上午一开始，公众提交申请空前踊跃。<br>上午9时至10时，官方票务网站的<font style="color:red">浏览量</font>达到了<font style="color:red">800万次</font>，票务呼叫中心热线从9时至10时的<font style="color:red">呼入量</font>超过了<font style="color:red">380万人次</font>。<br>由于瞬间访问数量过大，技术系统应对不畅，造成很多申购者无法及时提交申请，为此背景奥组委票务中心对广大公众未能及时、便捷地实现奥运门票预定表示歉意。  </p>
<p>人太多（全世界的冲击）  </p>
<h4 id="不可回避的问题"><a href="#不可回避的问题" class="headerlink" title="不可回避的问题"></a>不可回避的问题</h4><p>奥运会门票预售系统开放第一天，上午9点正式开始售票到中午12点，3个小时内，票务网站被浏览次数达到<font style="color:red">2000万次</font>。  </p>
<h4 id="一个神奇的网站"><a href="#一个神奇的网站" class="headerlink" title="一个神奇的网站"></a>一个神奇的网站</h4><p>春运，切肤之痛（一般两种状态：正在走向崩溃的路上or崩溃）： <strong>盘点12306： 一个总在“崩溃中”的神奇网站</strong><br><strong>淘宝崩完12306崩 连着4天，每天都有平台崩溃…..</strong>  </p>
<p>对应的问题点都是访问量比较大；  </p>
<h4 id="大型翻车现场"><a href="#大型翻车现场" class="headerlink" title="大型翻车现场"></a>大型翻车现场</h4><p><strong>京东促销爆服务器 刘强东：再搞一次</strong></p>
<ul>
<li>人员过多</li>
<li>访问量比较大</li>
<li>流量过大</li>
</ul>
<h4 id="问题现象"><a href="#问题现象" class="headerlink" title="问题现象"></a>问题现象</h4><p><strong>表层现象</strong></p>
<ul>
<li><strong>海量用户</strong></li>
<li><strong>高并发</strong>（所有人一块进来访问网站，网站扛不住）</li>
</ul>
<p><strong>核心问题</strong></p>
<h4 id="罪魁祸首—–关系型数据库"><a href="#罪魁祸首—–关系型数据库" class="headerlink" title="罪魁祸首—–关系型数据库"></a>罪魁祸首—–关系型数据库</h4><p>数据访问中影响因素：  </p>
<ul>
<li><strong>性能瓶颈：磁盘IO性能低下</strong><ul>
<li>数据库是保存在磁盘上的，而磁盘的IO性能也就是读写性能相对来说比较低下；</li>
<li>CPU的数据交换是和高速缓存Cache来做；</li>
<li>Cache的数据交换和内存做；</li>
<li>内存的数据交换和硬盘做；</li>
<li>提供基础数据的这些信息在硬盘上存储；而且是一层一层的往上进行传递；导致性能低下；</li>
</ul>
</li>
<li><strong>扩展瓶颈：数据关系复杂，扩展性差，不便于大规模集群</strong><ul>
<li>数据库中数据的存储格式；</li>
<li>数据库不仅仅存储数据；更多的还需要进行描述数据关系（表与表之间的多关联）；（呈现网状关联，前后交叉，错综复杂，扩展性差，牵一发而动全身）</li>
</ul>
</li>
</ul>
<h4 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h4><h5 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h5><ul>
<li>降低磁盘IO次数，越低越好（针对IO性能差） ——- 内存存储</li>
<li>去除数据间关系，越简单越好 ——– 不存储关系，仅存储数据</li>
</ul>
<p>NoSQL: 即 <strong>Not-Only SQL</strong> （<strong>泛指</strong>非关系型的数据库），（<strong>定位</strong>）作为关系型数据库的<strong>补充</strong>；<br>（<br>数据还是得存在硬盘上，<br>不能将全部的数据移到内存当中去；<br>内存当中的数据还是从硬盘当中来；<br>所以NoSQL的定位是补充；<br>）</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Not</span> <span class="string">不；  </span></span><br><span class="line"><span class="attr">Only</span> <span class="string">仅仅；只是；  </span></span><br><span class="line"><span class="attr">Not</span> <span class="string">Only 不仅仅，不只是；</span></span><br></pre></td></tr></table></figure>

<p>最终指向的即为做事情不能够仅仅只用SQL；与数据存储访问的类似的<strong>泛指</strong>称作是NoSQL；  </p>
<p>作用： 应对基于<strong>海量用户</strong>和海量数据前提下的数据处理问题（<strong>高并发</strong>）；</p>
<p>针对的是大量用户对大量数据访问出现的一个集中的大量访问从而出现的问题；<br>少量数据少量用户依旧可以使用但是未免有点杀鸡焉用牛刀的意思；  </p>
<p>所以一定得定义好NoSQL是用来干嘛的；它是对于关系型数据库的补充起到该做用；  </p>
<p><strong>NoSQL特征</strong>：<br>（特征都是相对的；没有绝对的特征；兴许再过几年就是普遍性的一个特点了）</p>
<ul>
<li><strong>可扩容，可伸缩</strong>；</li>
<li><strong>大数据</strong>量下<strong>高性能</strong></li>
<li><strong>灵活</strong>的<strong>数据类型</strong>（能兼容数据库中的数据）</li>
<li><strong>高可用</strong>（与<strong>集群</strong>相关进行了解）</li>
</ul>
<h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><p>常见的<strong>NoSQL数据库</strong>解决方案：  </p>
<ul>
<li><font style="color:red;font-weight:bolder;">Redis</font></li>
<li>memcache</li>
<li>HBase</li>
<li>MongoDB</li>
</ul>
<p>已经在市场上存留了一定时间了；并不是新出来的这样一种技术；<br>针对的不同场景；所体现的价值不一样；  </p>
<h5 id="解决方案（电商场景为例）"><a href="#解决方案（电商场景为例）" class="headerlink" title="解决方案（电商场景为例）"></a>解决方案（电商场景为例）</h5><p><strong>MySQL</strong>  </p>
<ol>
<li>商品基本信息</li>
</ol>
<ul>
<li>名称</li>
<li>价格</li>
<li>厂商</li>
</ul>
<p><strong>MongoDB</strong>  </p>
<p>高速处理，专用作文档处理的地方；  </p>
<ol start="2">
<li>商品附加信息</li>
</ol>
<ul>
<li>描述</li>
<li>详情</li>
<li>评论</li>
</ul>
<p><strong>分布式文件系统</strong></p>
<ol start="3">
<li>图片信息</li>
</ol>
<p><strong>ES、Lucene、solr</strong></p>
<ol start="4">
<li>搜索关键字</li>
</ol>
<p><strong>Redis、memcache、tair</strong>  </p>
<ol start="5">
<li><strong>热点</strong>信息(<strong>访问性较高</strong>)</li>
</ol>
<ul>
<li><strong>高频</strong></li>
<li><strong>波段性</strong></li>
</ul>
<p>Redis所处位置：  </p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">-------------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">（商品评价信息）|<span class="string">  </span>|<span class="string">        （热点信息存储）</span>|<span class="string">  </span>|<span class="string">              </span>|<span class="string">    （搜索关键字及全文检索）</span>|<span class="string">  </span>|<span class="string">                         </span>|<span class="string"> </span>|<span class="string">（商品图片）</span></span><br><span class="line"><span class="string">-----------------------    ----------------------           </span>|<span class="string">                -----------------------          ----------------------</span></span><br><span class="line">|<span class="string"> MongoDB集群（文档） </span>|<span class="string">     </span>|<span class="string"> Redis集群（缓存） </span>|<span class="string">            </span>|<span class="string">                </span>|<span class="string"> Solr集群（全文检索）</span>|<span class="string">           </span>|<span class="string"> FastDFS集群（图片）</span>|</span><br><span class="line">-----------------------    ----------------------           |<span class="string">                -----------------------          ----------------------</span></span><br><span class="line"><span class="string">-------------------------------------------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="string">-------------------------------------------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="string">    </span>|<span class="string">              </span>|<span class="string">              </span>|<span class="string">              </span>|<span class="string">              </span>|<span class="string">              </span>|</span><br><span class="line">---------      ---------      ---------      ---------      ---------      ---------</span><br><span class="line">|<span class="string"> MySQL </span>|<span class="string">      </span>|<span class="string"> MySQL </span>|<span class="string">      </span>|<span class="string"> MySQL </span>|<span class="string">      </span>|<span class="string"> MySQL </span>|<span class="string">      </span>|<span class="string"> MySQL </span>|<span class="string">      </span>|<span class="string"> MySQL </span>|</span><br><span class="line">---------      ---------      ---------      ---------      ---------      ---------</span><br><span class="line">                                      基本信息存储</span><br></pre></td></tr></table></figure>

<h3 id="redis入门-redis简介"><a href="#redis入门-redis简介" class="headerlink" title="redis入门-redis简介"></a>redis入门-redis简介</h3><p>概念：<font style="color:red;font-weight:bolder;">Redis（Remote Dictionary Server）</font>是用<strong>C语言</strong>开发的一个开源的高性能<font style="color:red;font-weight:bolder;">键值对（key-value）</font>数据库。  </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Remote 远程；  </span><br><span class="line">Dictionary 字典；（提供功能）  </span><br><span class="line">Server 服务；</span><br></pre></td></tr></table></figure>

<p>类似于Java当中的一种结构、存储模型Map；<br>比如说名字对应人；<br>（但是好像不太适合，身份证号对应人可能还好一点）<br>这就属于一个键值对；<br>Redis就是这样的一个数据库；<br>Redis当中存放的数据就是一个键对应一个值这样子；<br>不像接触的MySQL数据库；（数据库、数据表、记录行、值）；<br>而Redis是一个键则对应一个取值；这也是其性能高的一个原因；（一个名称对应一个值）  </p>
<p>了解了Redis是什么之后下面就来说说Redis的特征了；  </p>
<h4 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h4><ol>
<li>数据间<strong>没有必然的关联关系</strong>（也算是关系型数据库的弱势）</li>
<li>内部采用<strong>单线程</strong>机制进行工作（不会手脑并用，操作原子性强就能保证很多安全性的东西）</li>
<li><strong>高性能</strong>。官方提供测试数据，50个并发执行 100 000 个请求，读的速度是110000 次/s ， 写的速度是 81000 次/s。</li>
<li><strong>多数据类型</strong>支持</li>
</ol>
<ul>
<li><strong>字符串</strong>类型 <strong>string</strong></li>
<li><strong>列表</strong>类型 <strong>list</strong></li>
<li><strong>散列</strong>类型 <strong>hash</strong></li>
<li><strong>集合</strong>类型 <strong>set</strong></li>
<li><strong>有序集合</strong>类型 <strong>sorted_set</strong></li>
</ul>
<ol start="5">
<li><strong>持久化</strong>支持。可以进行<strong>数据灾难恢复</strong>（数据在内存当中进行存储，必定会有短电的情况，万一在内存中存储的某些重要数据一旦没了可咋办；这就很尴尬了；所以做了个数据灾难恢复处理）  </li>
</ol>
<h4 id="Redis的应用"><a href="#Redis的应用" class="headerlink" title="Redis的应用"></a>Redis的应用</h4><ul>
<li>为<strong>热点数据加速查询</strong>（主要场景），如热点商品、热点新闻、热点资讯、推广等高访问量信息等；（这个数据必然成为热点）  </li>
<li><strong>任务队列</strong>，如秒杀、抢购、购票排队等（消息队列）</li>
<li><strong>即时信息查询</strong>，如个位排行榜、各类网站访问统计、公交到站信息、在线人数信息（聊天室、网站）、设备信号等；（刷新速度快，包括缓存等技术，保证其实时性；）</li>
<li><strong>时效性信息控制</strong>，如验证码控制（5分钟、30分钟有效等）、投票控制等；（时效性可以使用redis做控制）</li>
<li><strong>分布式数据共享</strong>，如分布式集群架构中的session分离</li>
<li><strong>消息队列</strong></li>
<li><strong>分布式锁</strong></li>
</ul>
<h3 id="redis入门-redis下载安装与服务启动"><a href="#redis入门-redis下载安装与服务启动" class="headerlink" title="redis入门-redis下载安装与服务启动"></a>redis入门-redis下载安装与服务启动</h3><p>目录：  </p>
<ul>
<li>Redis简介</li>
<li><font style="color:red;">Redis的下载与安装</font></li>
<li>Redis的基本操作</li>
</ul>
<h4 id="Redis-的下载"><a href="#Redis-的下载" class="headerlink" title="Redis 的下载"></a>Redis 的下载</h4><ul>
<li>Linux（适用于企业及开发）<ul>
<li>Redis高级开始使用</li>
<li>以4.0版本作为主版本</li>
</ul>
</li>
<li>Windows版本（适合零基础学习）<ul>
<li>Redis入门使用</li>
<li>以3.2版本为主版本</li>
<li>下载地址：<code>https://github.com/MSOpenTech/redis/tags</code></li>
<li>选择此版本下载：<code>https://github.com/microsoftarchive/redis/releases/tag/win-3.2.100</code></li>
<li>下载类型：<code>https://github.com/microsoftarchive/redis/releases/tag/win-3.2.100</code></li>
</ul>
</li>
</ul>
<p>Redis安装特别特别特别简单；绿色版软件；解压缩下即可；  </p>
<ul>
<li>配置相关<ul>
<li>redis.windows.conf</li>
<li>redis.windows-service.conf</li>
</ul>
</li>
<li>文档(说明性内容)<ul>
<li>Redis on Windows RElease Note.docx</li>
<li>Redis on Windows.docx</li>
<li>Windows Service Documentation.docx</li>
</ul>
</li>
<li>主要看的文件（exe文件）<ul>
<li>redis-benchmark.exe<ul>
<li>redis-benchmark.exe用于来做性能测试使用</li>
</ul>
</li>
<li>redis-check-aof.exe<ul>
<li>作用：redis-check-aof.exe用于做持久化使用</li>
</ul>
</li>
<li>redis-cli.exe<ul>
<li>全称redis-client；</li>
</ul>
</li>
<li>redis-server.exe<ul>
<li>启动redis的一个可执行文件；</li>
<li>启动完了之后就相当于mysql启了一个服务器类似；</li>
<li>但是如果是需要去操作这个redis数据库就需要使用另外一个客户端，也就是另外一个exe可执行文件redis-cli.exe</li>
</ul>
</li>
</ul>
</li>
<li>目前使用得到的即redis-server.exe以及redis-cli.exe</li>
</ul>
<p>使用即：<strong>双击运行redis-server.exe</strong> 文件即可；  </p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 进程号以及当前启动的时间；</span><br><span class="line">[<span class="number">2460</span>] <span class="number">24</span> Sep <span class="number">13</span>:<span class="number">11</span>:<span class="number">03.987</span></span><br><span class="line"></span><br><span class="line"># 警告没有指定配置文件；当前使用的是默认的配置文件</span><br><span class="line"># Warning: no config file specified, using the <span class="keyword">default</span> config.</span><br><span class="line"></span><br><span class="line"># 为了指定配置文件所使用的的配置文件位置</span><br><span class="line"># In order to specify a config file use F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>\redis-server.exe /path/to/redis.conf</span><br><span class="line"></span><br><span class="line"># redis版本 以及emm 多少位的是</span><br><span class="line">Redis <span class="number">3.2</span><span class="number">.100</span> (<span class="number">00000000</span>/<span class="number">0</span>) <span class="number">64</span> bit</span><br><span class="line"></span><br><span class="line"># redis当前的端口号（redis对外提供服务，所使用的的端口号是<span class="number">6379</span>；ip地址即本机<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="keyword">or</span> localhost）</span><br><span class="line">Port: <span class="number">6379</span></span><br><span class="line"></span><br><span class="line"># redis当前所启动时的进程 process id号</span><br><span class="line"># 每启动一个redis服务就相当于是 Redis redis=new Redis(); new了一个Redis对象一样</span><br><span class="line"># 那么一个对象就是一个实例；那么这个PID可以说是这个实例的ID</span><br><span class="line"># 测试：将当前的这个双击出来的redis-server.exe进行关闭，重新双击redis-server.exe时会发现 PID会发生改变为<span class="number">13028</span>或者是其他的数值</span><br><span class="line"># 如果想要有两个redis-server的服务如何处理；双击一次redis-server再双击一次是没有用的；这样的做法导致的结果是第二次双击的时候会出现闪退现象原因就是端口<span class="number">6379</span>被占；即因为已经存在了一个redis服务了，而存在的该redis服务的端口号是<span class="number">6379</span></span><br><span class="line"># 这个时候就要去另外生成一个redis.conf 配置文件；修改其端口为其他的值；与本机上端口号数值不冲突的一个值</span><br><span class="line"></span><br><span class="line">PID: <span class="number">2460</span></span><br><span class="line"></span><br><span class="line">      http:<span class="comment">//redis.io</span></span><br><span class="line"></span><br><span class="line"># 以下为redis服务端的执行日志</span><br><span class="line"># 回头去操作了redis-cli.exe；那么就将会在redis-server.exe该cmd打服务端日志；哎呀；就是一个服务端后台；redis-cli.exe就是一个客户端别纠结了；</span><br><span class="line">[<span class="number">13028</span>] <span class="number">24</span> Sep <span class="number">13</span>:<span class="number">11</span>:<span class="number">59</span>:<span class="number">345</span> # Server started. Redis version <span class="number">3.2</span><span class="number">.100</span></span><br><span class="line">[<span class="number">13028</span>] <span class="number">24</span> Sep <span class="number">13</span>:<span class="number">11</span>:<span class="number">59.345</span> * The server <span class="keyword">is</span> now ready to accept connections on port <span class="number">6379</span></span><br></pre></td></tr></table></figure>

<p>redis的客户端，<strong>双击运行redis-cli.exe</strong> 文件即可；（在此处就能够去操作连接服务端，操作的方式是命令行式的）  </p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0.0.1:6379</span>&gt;</span><br></pre></td></tr></table></figure>

<h4 id="安装Redis"><a href="#安装Redis" class="headerlink" title="安装Redis"></a>安装Redis</h4><p>核心文件：  </p>
<ul>
<li>redis-server.exe 服务器启动命令</li>
<li>redis-cli.exe 命令行客户端</li>
<li>redis.windows.conf redis核心配置文件</li>
<li>redis-benchmark.exe 性能测试工具</li>
<li>redis-check-aof.exe AOF文件修复工具</li>
<li>redis-check-dump.exe RDB文件检查工具（快照持久化文件）</li>
</ul>
<h4 id="启动Redis"><a href="#启动Redis" class="headerlink" title="启动Redis"></a>启动Redis</h4><p>服务器启动使用redis-server.exe<br>客户端连接使用redis-cli.exe  </p>
<p>或者通过CMD 命令提示符来进行启动也是一样的；<br>windows+r调起CMD；</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;f:</span><br><span class="line"></span><br><span class="line">F:\&gt;cd Redis</span><br><span class="line"></span><br><span class="line">F:\Redis&gt;cd Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span></span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;</span><br><span class="line"></span><br><span class="line">#查看该目录下的子目录</span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;dir</span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;redis-server</span><br><span class="line"></span><br><span class="line">--------------------------------------------</span><br><span class="line"></span><br><span class="line"># 再调起一个CMD命令提示符 shell端</span><br><span class="line">C:\Users\ASUS&gt;f:</span><br><span class="line"></span><br><span class="line">F:\&gt;cd Redis</span><br><span class="line"></span><br><span class="line">F:\Redis&gt;cd Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span></span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;</span><br><span class="line"></span><br><span class="line">#查看该目录下的子目录</span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;dir</span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;redis-cli</span><br></pre></td></tr></table></figure>

<h3 id="redis入门-redis基础操作"><a href="#redis入门-redis基础操作" class="headerlink" title="redis入门-redis基础操作"></a>redis入门-redis基础操作</h3><p>目录Contents:  </p>
<ul>
<li>Redis简介</li>
<li>Redis的下载与安装</li>
<li>Redis的基本操作</li>
</ul>
<h4 id="命令行模式工具使用思考"><a href="#命令行模式工具使用思考" class="headerlink" title="命令行模式工具使用思考"></a>命令行模式工具使用思考</h4><ul>
<li>功能性命令</li>
<li>清除屏幕信息</li>
<li>帮助信息查阅</li>
<li>退出指令</li>
</ul>
<p>redis-存放数据(用于客户端操作指令)  </p>
<h5 id="信息添加-往里放"><a href="#信息添加-往里放" class="headerlink" title="信息添加(往里放)"></a>信息添加(往里放)</h5><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> key <span class="built_in">value</span> [EX <span class="built_in">seconds</span>] [PX <span class="built_in">milliseconds</span>] [NX|XX]</span><br></pre></td></tr></table></figure>

<ul>
<li>功能<blockquote>
<p>设置 key，value 数据</p>
</blockquote>
</li>
<li>命令<blockquote>
<p><strong>set</strong> key value</p>
</blockquote>
</li>
<li>范例<blockquote>
<p>set name laowang</p>
</blockquote>
</li>
</ul>
<h5 id="信息查询-往外取"><a href="#信息查询-往外取" class="headerlink" title="信息查询(往外取)"></a>信息查询(往外取)</h5><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">get</span> <span class="built_in">key</span></span><br></pre></td></tr></table></figure>

<p>注意；如果 key 不存在，将返回 nil(空)  </p>
<ul>
<li>功能<blockquote>
<p>根据 key 查询对应的 value，如果不存在，返回空（nil）</p>
</blockquote>
</li>
<li>命令<blockquote>
<p><strong>get</strong> key</p>
</blockquote>
</li>
<li>范例<blockquote>
<p>get name</p>
</blockquote>
</li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">F:\&gt;cd Redis</span><br><span class="line"></span><br><span class="line">F:\Redis&gt;cd Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span></span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;redis-cli</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">set</span> name laowang</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> name</span><br><span class="line"><span class="string">"laowang"</span></span><br><span class="line"></span><br><span class="line"># 取一个不存在的key</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> names</span><br><span class="line">(nil)</span><br><span class="line"></span><br><span class="line"># 在redis当中进行清除屏幕指令</span><br><span class="line">clear</span><br><span class="line"># 在windows，即cmd下使用 cls 进行清屏</span><br></pre></td></tr></table></figure>

<h5 id="清除屏幕信息"><a href="#清除屏幕信息" class="headerlink" title="清除屏幕信息"></a>清除屏幕信息</h5><ul>
<li>功能<blockquote>
<p>清除屏幕中的信息</p>
</blockquote>
</li>
<li>命令<blockquote>
<p>clear</p>
</blockquote>
</li>
</ul>
<h5 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h5><ul>
<li>功能<blockquote>
<p>获取命令帮助文档，获取组中所有命令信息名称</p>
</blockquote>
</li>
<li>命令<blockquote>
<p>help 命令名<br>  help @组名</p>
</blockquote>
</li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"># 如果想要看 <span class="keyword">set</span> 指令如何使用则输入以下命令行</span><br><span class="line"></span><br><span class="line">F:\&gt;cd Redis</span><br><span class="line"></span><br><span class="line">F:\Redis&gt;cd Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span></span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;redis-cli</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help <span class="keyword">get</span></span><br><span class="line"></span><br><span class="line">  GET key # 命令格式；即指令</span><br><span class="line">  summary: Get the value of a key # 功能描述；总结描述，获取一个key所对应的取值</span><br><span class="line">  since: <span class="number">1.0</span><span class="number">.0</span> # 出现版本；最早的在<span class="number">1.0</span><span class="number">.0</span>版本就有此命令；当前版本为<span class="number">3.2</span><span class="number">.100</span> 该版本</span><br><span class="line">  group: <span class="built_in">string</span> # 所属群组；这个命令属于一个群组；该群组名称叫做<span class="built_in">string</span>；</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help</span><br><span class="line">redis-cli <span class="number">3.2</span><span class="number">.100</span></span><br><span class="line">To <span class="keyword">get</span> help about Redis commands type:</span><br><span class="line">      # 可以去获取一个列表命令</span><br><span class="line">      # 可以获取得到&lt;group&gt;在这个群组当中的所有命令</span><br><span class="line">      # 即比如说 help @<span class="built_in">string</span> 可以获取得到在<span class="built_in">string</span>该群组当中的所有命令</span><br><span class="line">      <span class="string">"help @&lt;group&gt;"</span> to <span class="keyword">get</span> a list of commands <span class="keyword">in</span> &lt;group&gt;</span><br><span class="line"></span><br><span class="line">      # help 命令名称即可以获取得到的是有关于该命令的所有帮助信息</span><br><span class="line">      <span class="string">"help &lt;command&gt;"</span> <span class="keyword">for</span> help on &lt;command&gt;</span><br><span class="line"></span><br><span class="line">      #可以获取一个列表可能帮助的提示</span><br><span class="line">      <span class="string">"help &lt;tab&gt;"</span> to <span class="keyword">get</span> a list of possible help topics</span><br><span class="line"></span><br><span class="line">      # quit即用于退出</span><br><span class="line">      <span class="string">"quit"</span> to exit</span><br><span class="line"></span><br><span class="line">To <span class="keyword">set</span> redis-cli perferences:</span><br><span class="line">      <span class="string">":set hints"</span> enable online hints</span><br><span class="line">      <span class="string">":set nohints"</span> disable online hints</span><br><span class="line">Set your preferences <span class="keyword">in</span> ~/.redisclirc</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help <span class="keyword">set</span></span><br><span class="line"></span><br><span class="line">  SET key value [EX seconds] [PX milliseconds] [NX|XX]</span><br><span class="line">  summary: Set the <span class="built_in">string</span> value of a key</span><br><span class="line">  since: <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line">  group: <span class="built_in">string</span></span><br><span class="line"></span><br><span class="line"># tab x <span class="number">1</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @generic</span><br><span class="line"># tab x <span class="number">2</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @<span class="built_in">string</span></span><br><span class="line"># tab x <span class="number">3</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @list</span><br><span class="line"># tab x <span class="number">4</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @<span class="keyword">set</span></span><br><span class="line"># tab x <span class="number">5</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @sorted_set</span><br><span class="line"># tab x <span class="number">6</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @hash</span><br><span class="line"># tab x <span class="number">7</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @pubsub</span><br><span class="line"># tab x <span class="number">8</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @transactions</span><br><span class="line"># tab x <span class="number">9</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @connection</span><br><span class="line"># tab x <span class="number">10</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @server</span><br><span class="line"># tab x <span class="number">11</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @scripting</span><br><span class="line"># tab x <span class="number">12</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @hyperloglog</span><br><span class="line"># tab x <span class="number">13</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @cluster</span><br><span class="line"># tab x <span class="number">14</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @geo</span><br><span class="line"># tab x <span class="number">15</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @APPEND</span><br><span class="line"># tab x <span class="number">16</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @AUTH</span><br><span class="line"># tab x <span class="number">17</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BGREWRITEAOF</span><br><span class="line"># tab x <span class="number">18</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BGSAVE</span><br><span class="line"># tab x <span class="number">19</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BITCOUNT</span><br><span class="line"># tab x <span class="number">20</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BITFIELD</span><br><span class="line"># tab x <span class="number">21</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BITOP</span><br><span class="line"># tab x <span class="number">22</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BITPOS</span><br><span class="line"># tab x <span class="number">23</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BLPOP</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BRPOP</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @BRPOPLPUSH</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @CLIENT GETNAME</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @CLIENT KILL</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @CLIENT LIST</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @CLIENT REPLY</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @CLIENT SETNAME</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; help @CLIENT ADDSLOTS</span><br><span class="line">.....</span><br><span class="line"></span><br><span class="line"># (我在干什么傻逼事，我以为有尽头，在这里一直tab * n)</span><br></pre></td></tr></table></figure>

<h5 id="退出客户端命令行模式"><a href="#退出客户端命令行模式" class="headerlink" title="退出客户端命令行模式"></a>退出客户端命令行模式</h5><ul>
<li>功能<blockquote>
<p>退出客户端</p>
</blockquote>
</li>
<li>命令<blockquote>
<p>quit<br>  exit<br>  &lt;ESC &gt;</p>
</blockquote>
</li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 在cmd当中进行打卡redis-cli；然后按键esc；退出到dos窗口下</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br><span class="line"></span><br><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;</span><br></pre></td></tr></table></figure>

<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><h5 id="Redis入门"><a href="#Redis入门" class="headerlink" title="Redis入门"></a>Redis入门</h5><ol>
<li>Redis简介（NoSQL数据库；通过以key-value的形式进行存储）</li>
<li>Redis的下载与安装（绿色版本；容易安装；当前是windows环境3.2.100版本；后期基于linux环境4.0版本来进行实操）</li>
<li>Redis的基本操作<blockquote>
<ul>
<li>set/get(设置键值与取值)</li>
<li>clear（清屏）</li>
<li>help（获取帮助信息）</li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="数据类型-数据类型简介"><a href="#数据类型-数据类型简介" class="headerlink" title="数据类型-数据类型简介"></a>数据类型-数据类型简介</h3><h4 id="课程安排-1"><a href="#课程安排-1" class="headerlink" title="课程安排"></a>课程安排</h4><h5 id="课程计划"><a href="#课程计划" class="headerlink" title="课程计划"></a>课程计划</h5><h6 id="Windows环境"><a href="#Windows环境" class="headerlink" title="Windows环境"></a>Windows环境</h6><ol>
<li>redis基础<ul>
<li>Redis入门</li>
<li>数据类型</li>
<li>通用命令</li>
<li>Jedis</li>
</ul>
</li>
</ol>
<h6 id="linux环境"><a href="#linux环境" class="headerlink" title="linux环境"></a>linux环境</h6><ol start="2">
<li><p>Redis高级</p>
<ul>
<li>持久化</li>
<li>redis.conf</li>
<li>事务</li>
<li>集群</li>
</ul>
</li>
<li><p>Redis应用</p>
<ul>
<li>企业级解决方案</li>
</ul>
</li>
</ol>
<h4 id="Redis数据类型"><a href="#Redis数据类型" class="headerlink" title="Redis数据类型"></a>Redis数据类型</h4><h5 id="目录Contents"><a href="#目录Contents" class="headerlink" title="目录Contents"></a>目录Contents</h5><ul>
<li><font style="color:red;">数据存储类型介绍</font></li>
<li>string</li>
<li>hash</li>
<li>list</li>
<li>set</li>
<li>sorted_set</li>
<li>数据类型实践案例</li>
</ul>
<h4 id="业务数据的特殊性"><a href="#业务数据的特殊性" class="headerlink" title="业务数据的特殊性"></a>业务数据的特殊性</h4><p>为什么设计了五种数据类型（string，list，hash，set，sorted_set），即这五种数据类型的前世今生；  </p>
<p>一定是发现某一种数据它需要存入到redis当中了；再将这种数据的特征抽出来；然后做成一种数据类型；也就是说用到哪一种就做哪一种；<br>然后总之到现在总结出来了5种足够使用了即足够日常开发了；<br>如果有新需求来了又需要新的数据类型；即后面再去加新的数据类型设计新的数据类型即可；<br>且redis的数据类型并不只有这五种数据类型（string，list，hash，set，sorted_set），后面还会继续介绍其他的一些数据类型；  </p>
<p>总之还是要回来分析业务情况；通过具体的业务情况找到合适的数据类型进行存储数据；<br>redis最初定位的是作为缓存使用的；那么缓存当中放什么，这个就很关键；</p>
<h5 id="作为缓存使用"><a href="#作为缓存使用" class="headerlink" title="作为缓存使用"></a>作为缓存使用</h5><ol>
<li>原始业务功能设计（应用场景：秒杀）<ul>
<li>秒杀</li>
<li>京东618</li>
<li>天猫双十一互动</li>
<li>12306排队购票</li>
</ul>
</li>
<li>运营平台监控到的突发高频访问数据<ul>
<li>突发时政要闻，被强势关注围观(娱乐八卦阵-不明真相的吃瓜群众，不能预期预计其成为热点消息热点新闻，但是可以进行平台对其监控处理，平台监控到其（未被预期成为热点的信息）被高频次访问)</li>
</ul>
</li>
<li>高频、复杂的统计数据（应用场景：直播在线人数）<ul>
<li>在线人数</li>
<li>投票排行榜（女团男团给人投票实时刷新）</li>
</ul>
</li>
</ol>
<h5 id="附加功能"><a href="#附加功能" class="headerlink" title="附加功能"></a>附加功能</h5><p>比如说客户量突然变多从200个的访问量客户到以万为单位的客户；（高并发，机器支撑不住）  </p>
<p>系统功能优化或升级</p>
<ul>
<li>单服务器升级集群</li>
<li>Session管理</li>
<li>Token管理</li>
</ul>
<h5 id="Redis数据类型（5种常用的数据类型）"><a href="#Redis数据类型（5种常用的数据类型）" class="headerlink" title="Redis数据类型（5种常用的数据类型）"></a>Redis数据类型（5种常用的数据类型）</h5><p>可以与java当中的数据类型进行一下类比记忆；它们有很多的相似之处；  </p>
<ul>
<li>string        String</li>
<li>hash          HashMap</li>
<li>list          LinkedList</li>
<li>set           HashSet</li>
<li>sorted_set    TreeSet</li>
</ul>
<h3 id="数据类型-string基本操作"><a href="#数据类型-string基本操作" class="headerlink" title="数据类型-string基本操作"></a>数据类型-string基本操作</h3><h4 id="目录Contents-1"><a href="#目录Contents-1" class="headerlink" title="目录Contents"></a>目录Contents</h4><ul>
<li>数据存储类型介绍</li>
<li>string</li>
<li>hash</li>
<li>list</li>
<li>set</li>
<li>sorted_set</li>
<li>数据类型实践案例</li>
</ul>
<h4 id="redis-数据存储格式"><a href="#redis-数据存储格式" class="headerlink" title="redis 数据存储格式"></a>redis 数据存储格式</h4><p>对于redis来说，里面存储数据是一个映射关系；</p>
<ul>
<li>redis 自身是一个 Map，其中所有的数据都是采用 <font style="color:red;font-weight:bolder;">key: value</font> 的形式进行存储</li>
<li><font style="color:red;font-weight:bolder;">数据类型</font> 指的是 存储的数据 的类型，也就是 value 部分的类型，key 部分永远都是字符串</li>
<li></li>
</ul>
<p>这个key，名称是用来访问这个数据使用的；</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Redis 存储空间</span><br><span class="line"></span><br><span class="line">左边为key(永远都是字符串)    右边为value</span><br><span class="line">---------------------------------------------</span><br><span class="line">|  name |                   |    laowang   |</span><br><span class="line">---------------------------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line">|  age  |                   |    101       |</span><br><span class="line">---------------------------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line">|  名称  |                  |    数据     |</span><br><span class="line">---------------------------------------------</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line">|  key  |                   |    value     |</span><br><span class="line">---------------------------------------------</span><br></pre></td></tr></table></figure>

<h4 id="string-类型"><a href="#string-类型" class="headerlink" title="string 类型"></a>string 类型</h4><ul>
<li>存储的数据：单个数据，最简单（最常用）的数据存储类型，也是最常用的数据存储类型</li>
<li>存储数据的格式：一个存储空间保存一个数据</li>
<li>存储内容：通常使用字符串，如果字符串以整数的形式展示，可以作为数字操作使用（但是仍然是一个字符串）<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Redis 存储空间</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line">|  key1  |------------------&gt;|    laowang   |</span><br><span class="line">---------------------------------------------</span><br><span class="line">|  key1  |------------------&gt;|   4006184000 |</span><br><span class="line">---------------------------------------------</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="string-类型数据的基本操作"><a href="#string-类型数据的基本操作" class="headerlink" title="string 类型数据的基本操作"></a>string 类型数据的基本操作</h4><ul>
<li>添加/修改数据<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> <span class="built_in">key</span> <span class="built_in">value</span></span><br></pre></td></tr></table></figure></li>
<li>获取数据<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">get</span> <span class="keyword">value</span></span><br></pre></td></tr></table></figure></li>
<li>删除数据<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">del</span> <span class="built_in">key</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>练习：  </p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">F:\Redis\Redis-x64<span class="number">-3.2</span><span class="number">.100</span><span class="number">-6379</span>&gt;redis-cli</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">set</span> name laowang</span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> name</span><br><span class="line"><span class="string">"laowang"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">set</span> age <span class="number">11111</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> age</span><br><span class="line"><span class="string">"11111"</span></span><br><span class="line"></span><br><span class="line"># 删除该数据则该数据从redis当中不再有了；</span><br><span class="line"># 删除完成之后返回 (<span class="built_in">int</span>eger) <span class="number">1</span> 代表删除成功；</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; del age</span><br><span class="line">(<span class="built_in">int</span>eger) <span class="number">1</span></span><br><span class="line"></span><br><span class="line"># 这个时候redis的内存当中就不存在该key: age；value: <span class="number">11111</span> 该数据了；</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> age</span><br><span class="line">(nil)</span><br><span class="line"></span><br><span class="line"># 当再去进行删除一个redis内存当中不存在的数据</span><br><span class="line"># 这个时候就返回 (<span class="built_in">int</span>eger)<span class="number">0</span> ；表示删除失败；</span><br><span class="line"># 在redis当中，操作如果是以成功失败为标识的话；都是使用的(<span class="built_in">int</span>eger) <span class="number">1</span> / (<span class="built_in">int</span>eger) <span class="number">0</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; del age</span><br><span class="line">(<span class="built_in">int</span>eger) <span class="number">0</span></span><br></pre></td></tr></table></figure>

<ul>
<li>添加/修改多个数据<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1.</span> m 是 单词 Multiple[英 /ˈmʌltɪpl/] 的简写</span><br><span class="line"># <span class="number">2.</span> adj. 多重的；多样的；许多的；n. 倍数；[电]并联；复数 multiples</span><br><span class="line"># <span class="number">3.</span> 就是多个的意思，mset一次性设置多个键值；mget一次性取多个值出来；</span><br><span class="line"># <span class="number">4.</span> 以及原来如果存在该key以及该key所对应的取值；则如果再次设置mset；就将发生覆盖原来key的取值</span><br><span class="line"># <span class="number">5.</span> 通过mget进行取出一个不存在的key时同样返回nil；</span><br><span class="line"># <span class="number">6.</span> 格式: mset key1 value1 key2 value2 ...</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; mset a <span class="number">1</span> b <span class="number">2</span> c <span class="number">3</span> d <span class="number">4</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> a</span><br><span class="line"><span class="string">"1"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> b</span><br><span class="line"><span class="string">"2"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> c</span><br><span class="line"><span class="string">"3"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> d</span><br><span class="line"><span class="string">"4"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; mget a b c d</span><br><span class="line"><span class="number">1</span>) <span class="string">"1"</span></span><br><span class="line"><span class="number">2</span>) <span class="string">"2"</span></span><br><span class="line"><span class="number">3</span>) <span class="string">"3"</span></span><br><span class="line"><span class="number">4</span>) <span class="string">"4"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; mset a <span class="number">111</span> b <span class="number">222</span> c <span class="number">333</span> d <span class="number">444</span></span><br><span class="line">OK</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; mget a b c d</span><br><span class="line"><span class="number">1</span>) <span class="string">"111"</span></span><br><span class="line"><span class="number">2</span>) <span class="string">"222"</span></span><br><span class="line"><span class="number">3</span>) <span class="string">"333"</span></span><br><span class="line"><span class="number">4</span>) <span class="string">"444"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; mget a e c d</span><br><span class="line"><span class="number">1</span>) <span class="string">"111"</span></span><br><span class="line"><span class="number">2</span>) (nil)</span><br><span class="line"><span class="number">3</span>) <span class="string">"333"</span></span><br><span class="line"><span class="number">4</span>) <span class="string">"444"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; mget z i p</span><br><span class="line"><span class="number">1</span>) (nil)</span><br><span class="line"><span class="number">2</span>) (nil)</span><br><span class="line"><span class="number">3</span>) (nil)</span><br></pre></td></tr></table></figure></li>
<li>获取多个数据<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 格式：mget key1 key2 ...</span><br><span class="line"></span><br><span class="line"><span class="number">127.0.0.1:6379</span>&gt; set a <span class="number">11111</span></span><br><span class="line">OK</span><br></pre></td></tr></table></figure></li>
<li>获取数据字符个数（字符串长度）<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 格式：strlen key</span><br><span class="line"></span><br><span class="line"># a 该key的value有<span class="number">5</span>个字符（长度）</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; strlen a</span><br><span class="line">(<span class="built_in">int</span>eger) <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; strlen name</span><br><span class="line">(<span class="built_in">int</span>eger) <span class="number">7</span></span><br></pre></td></tr></table></figure></li>
<li>追加信息到原始信息后部（如果原始信息存在就追加，否则新建）<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 格式：append key value</span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> a</span><br><span class="line"><span class="string">"11111"</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; append a <span class="number">22222</span></span><br><span class="line">(<span class="built_in">int</span>eger) <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> a</span><br><span class="line"><span class="string">"1111122222"</span></span><br><span class="line"></span><br><span class="line"># append一个在redis内存当中并不存在的key也会成功；即不存在则新建；</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; append laowang <span class="number">999999</span></span><br><span class="line">(<span class="built_in">int</span>eger) <span class="number">6</span></span><br><span class="line"></span><br><span class="line"># 当这个变量对应的存储值如果存在则追加；不存在则新建</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> laowang</span><br><span class="line"><span class="string">"999999"</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数据类型-单指令操作与多指令操作的选择之惑"><a href="#数据类型-单指令操作与多指令操作的选择之惑" class="headerlink" title="数据类型-单指令操作与多指令操作的选择之惑"></a>数据类型-单指令操作与多指令操作的选择之惑</h3><h4 id="string-类型数据的基本操作-1"><a href="#string-类型数据的基本操作-1" class="headerlink" title="string 类型数据的基本操作"></a>string 类型数据的基本操作</h4><p>单数据操作与多数据操作如何选择<br>（什么时候用set更好；什么时候用mset更好）</p>
<h4 id="单数据操作与多数据操作的选择之惑"><a href="#单数据操作与多数据操作的选择之惑" class="headerlink" title="单数据操作与多数据操作的选择之惑"></a>单数据操作与多数据操作的选择之惑</h4><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> <span class="built_in">key</span> <span class="built_in">value</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"><span class="built_in">vs</span></span><br></pre></td></tr></table></figure>
<p>mset key1 value1 key2 value2 …</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">区别：  </span><br><span class="line"></span><br><span class="line">* <span class="built_in">set</span>一次性只能设置一个<span class="built_in">key</span>的取值<span class="built_in">value</span></span><br><span class="line">* mset一次性只能设置多个<span class="built_in">key</span>的取值<span class="built_in">value</span></span><br><span class="line">* <span class="built_in">get</span>与mget同理</span><br><span class="line"></span><br><span class="line">一条指令的执行过程</span><br></pre></td></tr></table></figure>
<hr>
<p>|           |——–set—-》|          |<br>| 应用服务器 |                | Redis服务|<br>|           |《——result—|          |</p>
<hr>
<p>一条指令执行的整个过程<br>首先指令到达以后发送给redis;<br>redis拿到指令以后；结束完把结果返回给服务器；<br>那么在这个过程当中；<br>有这么几个地方是需要耗费时间的；</p>
<ol>
<li>set指令从应用服务器发送到redis服务这个过程是需要耗费时间的</li>
<li>到达redis服务，执行指令同样是需要耗费时间的</li>
<li>那么redis返回查询到的数据回去到应用服务器也是需要耗费时间的；</li>
</ol>
<p>那么如果是三个指令的话；那么上述过程将会是一个O(n)的过程即上述过程执行3遍；</p>
<ol>
<li>发送指令 x 3</li>
<li>执行指令 x 3</li>
<li>返回结果 x 3<br>那么其总执行时间为多少？<br>假定指令发送与指令返回的时间一样那么总执行时间为：</li>
</ol>
<p>单指令（set）3条指令的执行过程时间为<br>发送返回时间 x 6 + 执行时间 x 3</p>
<p>如果是多指令（mset）3条指令的执行过程为<br>发送返回时间 x 2 + 执行时间 x 3</p>
<p>均衡一下发送时长和执行时长之间的关系；<br>假如说当前需要操作50（大数据量）个数据；set与mset的效率差距；<br>没有明确的结论说什么时候用set什么时候用mset；<br>都是结合具体的业务情况才能作出选择出更适合某个业务场景下的指令；</p>
<p>如果一次发送完所消耗的时长执行完的时长非常的大的话，那么对于单线程的环境来说并不适用；所以说面对这种情况一定需要及时切割；</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 数据类型-数值增减操作</span><br><span class="line"></span><br><span class="line">#### string 类型数据的扩展操作</span><br><span class="line"></span><br><span class="line">##### 业务场景</span><br><span class="line"></span><br><span class="line">在开发当中，随着业务进行数据量也会越来越大；一张表能够存储的数据量不能够让其无限极的进行扩张；否则会非常影响查询效率；那么这个时候采取的方式就是将一张数据量大的表切割分割成几张小表；甚至将一个库当中的表分散到几个库这样的处理操作；那么这对应的操作即分库分表；</span><br><span class="line">在这里不考虑分库问题仅仅考虑分表问题；</span><br><span class="line">那么表有了而表中的id是一个一个连续自增的；</span><br><span class="line">那么如果将这些数据分到别的表当中；</span><br><span class="line">就将会出现一个问题；每一个表控制自己的主键自增；会出现问题；即主键重复；</span><br><span class="line">于是就需要去解决主键重复的问题；</span><br><span class="line"></span><br><span class="line">大型企业及应用中，分表操作是基本操作，使用多张表存储同类型数据；</span><br><span class="line">但是对应的主键 id 必须保证统一性，不能重复。</span><br><span class="line">Oracle数据库具有 sequence 设定（有序列的概念所以可以解决分表时主键重复问题），可以解决该问题。</span><br><span class="line">但是 MySQL 数据库并不具有类似的机制，那么该如何解决？</span><br><span class="line"></span><br><span class="line">把原来的表分成若干张表之后；只要保证一点；所有的主键id不重复即可；  </span><br><span class="line">这个主键id原本由数据库控制现在由其他服务进行控制；</span><br><span class="line"></span><br><span class="line">##### 解决方案</span><br><span class="line"></span><br><span class="line">* 设置数值数据增加指定范围的值</span><br></pre></td></tr></table></figure>
<p>  incr key<br>  incrby key increment<br>  incrbyfloat key increment<br>  <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>设置数值数据减少指定范围的值</span><br></pre></td></tr></table></figure><br>  decr key<br>  decrby key decrement<br>  <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">对一个字符串进行操作；如果该字符串的取值是一个纯数字；</span><br><span class="line">那么对其进行+<span class="number">1</span>（increment）/<span class="number">-1</span>（decrement）操作</span><br></pre></td></tr></table></figure><br>127.0.0.1:6379&gt; set num 1<br>OK</p>
<p>127.0.0.1:6379&gt; incr num<br>(integer) 2</p>
<p>127.0.0.1:6379&gt; get num<br>“2”</p>
<p>127.0.0.1:6379&gt; incr num<br>(integer) 3</p>
<p>127.0.0.1:6379&gt; incr num<br>(integer) 4</p>
<p>127.0.0.1:6379&gt; get num<br>“4”</p>
<p>127.0.0.1:6379&gt; decr num<br>(integer) 3</p>
<p>127.0.0.1:6379&gt; get num<br>“3”</p>
<h1 id="查看-incrby-命令详细"><a href="#查看-incrby-命令详细" class="headerlink" title="查看 incrby 命令详细"></a>查看 incrby 命令详细</h1><p>127.0.0.1:6379&gt; help incrby</p>
<p>  INCRBY key increment</p>
<h1 id="为一个key增加一个整数值；by-the-given-amount-用给定的值进行增加；"><a href="#为一个key增加一个整数值；by-the-given-amount-用给定的值进行增加；" class="headerlink" title="为一个key增加一个整数值；by the given amount 用给定的值进行增加；"></a>为一个key增加一个整数值；by the given amount 用给定的值进行增加；</h1><h1 id="即默认incr-是-1；decr-是-1"><a href="#即默认incr-是-1；decr-是-1" class="headerlink" title="即默认incr 是+1；decr 是 -1"></a>即默认incr 是+1；decr 是 -1</h1><h1 id="而incrby-与-decrby-则是让它-n；或者是让它-n；"><a href="#而incrby-与-decrby-则是让它-n；或者是让它-n；" class="headerlink" title="而incrby 与 decrby 则是让它 +n；或者是让它 -n；"></a>而incrby 与 decrby 则是让它 +n；或者是让它 -n；</h1><p>  summary: Increment the integer value of a key by the given amount<br>  since: 1.0.0<br>  group: string</p>
<p>127.0.0.1:6379&gt; incrby num 10<br>(integer) 13</p>
<p>127.0.0.1:6379&gt; get num<br>“13”</p>
<p>127.0.0.1:6379&gt; decrby num 2<br>(integer) 11</p>
<p>127.0.0.1:6379&gt; get num<br>“11”</p>
<h1 id="incrbyfloat-float则与小数有关；"><a href="#incrbyfloat-float则与小数有关；" class="headerlink" title="incrbyfloat float则与小数有关；"></a>incrbyfloat float则与小数有关；</h1><p>127.0.0.1:6379&gt; incrbyfloat num 0.5<br>“11.5”</p>
<p>127.0.0.1:6379&gt; get num<br>“11.5”</p>
<p>127.0.0.1:6379&gt; incrbyfloat num 0.00000000009<br>“11.500000000089999”</p>
<p>127.0.0.1:6379&gt; get num<br>“11.500000000089999”</p>
<h1 id="尝试-incrby-添加的increment为float类型取值"><a href="#尝试-incrby-添加的increment为float类型取值" class="headerlink" title="尝试 incrby 添加的increment为float类型取值"></a>尝试 incrby 添加的increment为float类型取值</h1><p>127.0.0.1:6379&gt; incrby num 0.9</p>
<h1 id="报错；错误值不是一个integer类型取值或者超出其范围取值"><a href="#报错；错误值不是一个integer类型取值或者超出其范围取值" class="headerlink" title="报错；错误值不是一个integer类型取值或者超出其范围取值"></a>报错；错误值不是一个integer类型取值或者超出其范围取值</h1><p>(error) ERR value is not an integer or out of range</p>
<h1 id="即-incr、incrby、decr、decrby专用于操作整数；incrbyfloat用于操作小数"><a href="#即-incr、incrby、decr、decrby专用于操作整数；incrbyfloat用于操作小数" class="headerlink" title="即 incr、incrby、decr、decrby专用于操作整数；incrbyfloat用于操作小数"></a>即 incr、incrby、decr、decrby专用于操作整数；incrbyfloat用于操作小数</h1><h1 id="需要注意的一点是：incrby-与-decrby-后面的取值-increment与-decrement可以是正数也可以是负数；"><a href="#需要注意的一点是：incrby-与-decrby-后面的取值-increment与-decrement可以是正数也可以是负数；" class="headerlink" title="需要注意的一点是：incrby 与 decrby 后面的取值 increment与 decrement可以是正数也可以是负数；"></a>需要注意的一点是：incrby 与 decrby 后面的取值 increment与 decrement可以是正数也可以是负数；</h1><p>127.0.0.1:6379&gt; set num1 1<br>OK</p>
<h1 id="num1-1-1-1-0"><a href="#num1-1-1-1-0" class="headerlink" title="( + num1 ) + ( - 1 ) = 1 - 1 = 0"></a>( + num1 ) + ( - 1 ) = 1 - 1 = 0</h1><p>127.0.0.1:6379&gt; incrby num1 -1<br>(integer) 0</p>
<p>127.0.0.1:6379&gt; get num1<br>“0”</p>
<h1 id="num1-1-0-1-1"><a href="#num1-1-0-1-1" class="headerlink" title="( + num1 ) + ( 1 ) = 0 + 1 = 1"></a>( + num1 ) + ( 1 ) = 0 + 1 = 1</h1><p>127.0.0.1:6379&gt; incrby num1 1<br>(integer) 1</p>
<p>127.0.0.1:6379&gt; get num1<br>“1”</p>
<h1 id="num1-2-1-2-1"><a href="#num1-2-1-2-1" class="headerlink" title="( + num1 ) + ( - 2 ) = 1 - 2 = -1"></a>( + num1 ) + ( - 2 ) = 1 - 2 = -1</h1><p>127.0.0.1:6379&gt; incrby num1 -2<br>(integer) -1</p>
<h1 id="num1-2-1-2-3"><a href="#num1-2-1-2-3" class="headerlink" title="( + num1 ) + ( - 2 ) = -1 - 2 = -3"></a>( + num1 ) + ( - 2 ) = -1 - 2 = -3</h1><p>127.0.0.1:6379&gt; decrby num1 2<br>(integer) -3</p>
<p>127.0.0.1:6379&gt; get num1<br>“-3”</p>
<h1 id="num1-1-3-3-3-3-0"><a href="#num1-1-3-3-3-3-0" class="headerlink" title="( + num1 ) + ( - 1 ) = -3 - ( -3 ) = -3 + 3 = 0"></a>( + num1 ) + ( - 1 ) = -3 - ( -3 ) = -3 + 3 = 0</h1><p>127.0.0.1:6379&gt; decrby num1 -3<br>(integer) 0</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### <span class="type">string</span>作为数值操作</span><br><span class="line"></span><br><span class="line">* <span class="type">string</span>在redis内部存储默认就是一个字符串，当遇到增减类型操作incr、decr时就会转变成数值型进行计算；(归根结底其还是一个字符串)</span><br><span class="line">* redis所有的操作都是原子性的，采用单线程处理所有业务，命令是一个一个执行的；因此无需考虑并发带来的数据；</span><br><span class="line">* 注意：&lt;font style=<span class="string">"color:red;"</span>&gt;按数值进行操作的数据，如果原始数据不能转成数值，或则超越了redis数值上限范围，将报错&lt;/font&gt;。</span><br><span class="line"><span class="number">9</span> <span class="number">22</span> <span class="number">33</span>  <span class="number">7203</span> <span class="number">6854</span> <span class="number">77</span> <span class="number">5807</span> （java中long型数据最大取值，Long.MAX_VALUE）</span><br></pre></td></tr></table></figure>
<h1 id="1-第一种情况：原始数据不能转成数值"><a href="#1-第一种情况：原始数据不能转成数值" class="headerlink" title="1. 第一种情况：原始数据不能转成数值"></a>1. 第一种情况：原始数据不能转成数值</h1><p>  127.0.0.1:6379&gt; set num2 abc<br>  OK<br>  127.0.0.1:6379&gt; incr num2<br>  (error) ERR value is not an integer or out of range</p>
<h1 id="2-第二种情况，超越redis数值上限范围"><a href="#2-第二种情况，超越redis数值上限范围" class="headerlink" title="2. 第二种情况，超越redis数值上限范围"></a>2. 第二种情况，超越redis数值上限范围</h1><p>  127.0.0.1:6379&gt; incrby num2 11111111111111111111111111111111111111111111111111111111111111<br>  (error) ERR value is not an integer or out of range<br>  <figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; **Tips <span class="number">1</span>:**</span><br><span class="line">  * redis用于控制数据库表主键id，为数据库表主键提供生成策略，保障数据库表的主键唯一性</span><br><span class="line">  * 此方案适用于所有数据库，且支持数据库集群</span><br><span class="line"></span><br><span class="line">### 数据类型-数据时效性设置</span><br><span class="line"></span><br><span class="line">#### string 类型数据的扩展操作</span><br><span class="line"></span><br><span class="line">##### 业务场景</span><br><span class="line"></span><br><span class="line">* “最强女生” 启动海选投票，只能通过微信投票，每个微信号每<span class="number">4</span>个小时只能投<span class="number">1</span>票；</span><br><span class="line">* 电商商家开启热门商品推荐，热门商品不能一直处于热门期，每种商品热门期维持<span class="number">3</span>天，<span class="number">3</span>天后自动取消热门；</span><br><span class="line">* 新闻网站会出现热点新闻，热点新闻最大的特征是时效性，如何自动控制热点新闻的时效性</span><br></pre></td></tr></table></figure><br>news_id: HB314790725 3分钟时效性：03:00（进行倒数计时）<br>                                 ↓ ↓ ↓<br>news_id: HB314790725 3分钟时效性：00:00</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 解决方案</span><br><span class="line"></span><br><span class="line">* 设置数据具有指定的生命周期(数据能活多久，比如三分钟、五分钟之类的验证码时效性)</span><br></pre></td></tr></table></figure>
<h1 id="1-这两个命令的差别在于生命周期的单位不同"><a href="#1-这两个命令的差别在于生命周期的单位不同" class="headerlink" title="1. 这两个命令的差别在于生命周期的单位不同"></a>1. 这两个命令的差别在于生命周期的单位不同</h1><h1 id="2-setex命令的时间单位为-秒seconds"><a href="#2-setex命令的时间单位为-秒seconds" class="headerlink" title="2. setex命令的时间单位为 秒seconds"></a>2. setex命令的时间单位为 秒seconds</h1><h1 id="3-psetex命令的时间单位为-毫秒milliseconds"><a href="#3-psetex命令的时间单位为-毫秒milliseconds" class="headerlink" title="3. psetex命令的时间单位为 毫秒milliseconds"></a>3. psetex命令的时间单位为 毫秒milliseconds</h1><h1 id="格式：setex-key-seconds-value"><a href="#格式：setex-key-seconds-value" class="headerlink" title="格式：setex key seconds value"></a>格式：setex key seconds value</h1><h1 id="格式：psetex-key-milliseconds-value"><a href="#格式：psetex-key-milliseconds-value" class="headerlink" title="格式：psetex key milliseconds value"></a>格式：psetex key milliseconds value</h1><p>  #示例(10秒后过期)：<br>  127.0.0.1:6379&gt; setex tel 10 1<br>  OK<br>  127.0.0.1:6379&gt; get tel<br>  “1”<br>  127.0.0.1:6379&gt; get tel<br>  “1”<br>  127.0.0.1:6379&gt; get tel<br>  (nil)<br>  127.0.0.1:6379&gt;</p>
<h1 id="如果在-setex-之后重新对同一个键进行-set-key-value；则setex命令所指定的生命周期将不再起作用"><a href="#如果在-setex-之后重新对同一个键进行-set-key-value；则setex命令所指定的生命周期将不再起作用" class="headerlink" title="如果在 setex 之后重新对同一个键进行 set key value；则setex命令所指定的生命周期将不再起作用"></a>如果在 setex 之后重新对同一个键进行 set key value；则setex命令所指定的生命周期将不再起作用</h1><p>  127.0.0.1:6379&gt; setex tel 10 1<br>  OK<br>  127.0.0.1:6379&gt; set tel 2<br>  OK<br>  127.0.0.1:6379&gt; get tel<br>  “2”<br>  127.0.0.1:6379&gt;<br>  <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; **Tips <span class="number">2</span>:**</span><br><span class="line"></span><br><span class="line">* redis 控制数据的生命周期，通过数据是否失效控制业务行为，适用于所有具有时效性限定控制的操作</span><br><span class="line"></span><br><span class="line">### key的命名规范</span><br><span class="line"></span><br><span class="line">#### <span class="built_in">string</span> 类型数据操作的注意事项</span><br><span class="line"></span><br><span class="line">* 数据操作不成功的反馈与数据正常操作之间的差异</span><br><span class="line">  ① 表示运行结构是否成功</span><br><span class="line">    * （<span class="built_in">int</span>eger）<span class="number">0</span> ---&gt; <span class="literal">false</span> 失败</span><br><span class="line">    * （<span class="built_in">int</span>eger）<span class="number">1</span> ---&gt; <span class="literal">true</span>  成功</span><br><span class="line">  </span><br><span class="line">  ② 表示运行结果值</span><br><span class="line">    * （<span class="built_in">int</span>eger）<span class="number">3</span> ---&gt; <span class="number">3</span>个</span><br><span class="line">    * （<span class="built_in">int</span>eger）<span class="number">1</span> ---&gt; <span class="number">1</span>个</span><br><span class="line">* 数据未获取到</span><br><span class="line">  ①（nil）等同于<span class="literal">null</span>，不存在</span><br><span class="line">* 数据最大存储量</span><br><span class="line">  ① <span class="number">512</span>MB（上限）</span><br><span class="line">* 数据计算最大范围（java中的long的最大值）</span><br><span class="line">  ① <span class="number">9</span> <span class="number">22</span> <span class="number">33</span> <span class="number">7203</span> <span class="number">6854</span> <span class="number">7758</span> <span class="number">07</span></span><br><span class="line">  ① <span class="number">-9</span> <span class="number">22</span> <span class="number">33</span> <span class="number">7203</span> <span class="number">6854</span> <span class="number">7758</span> <span class="number">07</span></span><br><span class="line">  ③ 比 <span class="number">9</span> <span class="number">22</span> <span class="number">33</span> <span class="number">7203</span> <span class="number">6854</span> <span class="number">7758</span> <span class="number">07</span>还要大；比<span class="number">-9</span> <span class="number">22</span> <span class="number">33</span> <span class="number">7203</span> <span class="number">6854</span> <span class="number">7758</span> <span class="number">07</span>还要小；则抛出异常Error；</span><br><span class="line"></span><br><span class="line">#### <span class="built_in">string</span> 类型应用场景</span><br><span class="line"></span><br><span class="line">##### 业务场景</span><br><span class="line"></span><br><span class="line">主页高频访问信息显示控制，例如新浪微博大V主页显示粉丝数与微博数量；  </span><br><span class="line"></span><br><span class="line">这种数据如何放入到redis当中怎样进行存储？</span><br><span class="line"></span><br><span class="line">##### 解决方案</span><br><span class="line"></span><br><span class="line">* 在redis中为大V用户设定用户信息，以用户主键和属性值作为key，后台设定定时刷新策略即可</span><br></pre></td></tr></table></figure></p>
<h1 id="表名：主键名：主键值：属性名"><a href="#表名：主键名：主键值：属性名" class="headerlink" title="表名：主键名：主键值：属性名"></a>表名：主键名：主键值：属性名</h1><p>  eg:  user:id:3506728370:fans         —&gt;     12210947<br>  eg:  user:id:3506728370:blogs        —&gt;     6164<br>  eg:  user:id:3506728370:focuss       —&gt;     83</p>
<p>  127.0.0.1:6379&gt; set user:id:00789:fans 123456789<br>  OK</p>
<p>  127.0.0.1:6379&gt; set user:id:00789:blogs 789<br>  OK</p>
<p>  127.0.0.1:6379&gt; set user:id:00789 {id:00789,blogs:789,,fans:123456789}<br>  OK</p>
<p>  127.0.0.1:6379&gt; incr user:id:00789:fans<br>  (integer) 123456790</p>
<h1 id="是直接存储属性取值还是通过json方式哪一种比较好；"><a href="#是直接存储属性取值还是通过json方式哪一种比较好；" class="headerlink" title="是直接存储属性取值还是通过json方式哪一种比较好；"></a>是直接存储属性取值还是通过json方式哪一种比较好；</h1><h1 id="第一种可以取第二种也可以取出；"><a href="#第一种可以取第二种也可以取出；" class="headerlink" title="第一种可以取第二种也可以取出；"></a>第一种可以取第二种也可以取出；</h1><h1 id="第一种改变数据会要方便一些；"><a href="#第一种改变数据会要方便一些；" class="headerlink" title="第一种改变数据会要方便一些；"></a>第一种改变数据会要方便一些；</h1><h1 id="第二种一改全改；两者没有说好坏需要看具体的业务逻辑情况、业务场景而定、选择；"><a href="#第二种一改全改；两者没有说好坏需要看具体的业务逻辑情况、业务场景而定、选择；" class="headerlink" title="第二种一改全改；两者没有说好坏需要看具体的业务逻辑情况、业务场景而定、选择；"></a>第二种一改全改；两者没有说好坏需要看具体的业务逻辑情况、业务场景而定、选择；</h1><p>  127.0.0.1:6379&gt;</p>
  <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>在redis中以json格式存储大V用户信息，定时刷新（也可以）</span><br></pre></td></tr></table></figure>
<p>  eg:  user:id:3506728370         —&gt;     {id:3506728370,name:春晚,fans:123456789,blogs:6164,focus:83}<br>  <figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; **Tips3:**</span><br><span class="line"></span><br><span class="line">* redis应用于各种结构型和非结构型高热读数据访问加速</span><br><span class="line"></span><br><span class="line">#### key的设置约定</span><br><span class="line"></span><br><span class="line">* 数据库中的热点数据key命令惯例</span><br></pre></td></tr></table></figure></p>
<hr>
<pre><code>表名 ：主键名 ：主键值   ：字段名</code></pre><hr>
<pre><code>eq1 : order :   id  : 29437595 : name</code></pre><hr>
<pre><code>eq2 : equip :   id  : 390472345: type</code></pre><hr>
<pre><code>eq3 : news  :   id  : 202004150: title</code></pre><hr>
  <figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">redis当中的大数据还是来自于数据库（mysql）；也有小部分不是来自于数据库；  </span><br><span class="line"></span><br><span class="line">### 数据类型-hash类型介绍与基本操作</span><br><span class="line"></span><br><span class="line">#### 目录Contents</span><br><span class="line"></span><br><span class="line">* 数据存储类型介绍</span><br><span class="line">* string</span><br><span class="line">* hash</span><br><span class="line">* list</span><br><span class="line">* set</span><br><span class="line">* sorted_set</span><br><span class="line"></span><br><span class="line">#### hash类型</span><br><span class="line"></span><br><span class="line">##### 存储的疑惑</span><br><span class="line"></span><br><span class="line">* string当中以json方式存储数据的格式；</span><br></pre></td></tr></table></figure>
<hr>
<p>| h_user user:id:3506728370 |——–&gt;| {name:春晚, fans:12210862, blogs:6164, focus:83}|</p>
<hr>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(取出数据还行，但是对于修改数据就显得笨拙)  </span><br><span class="line"></span><br><span class="line">对于上述操作；对象类型数据的存储如果具有比较**频繁的更新需求操作**会显得笨重  </span><br><span class="line">那么此时针对这种比较频繁的更新需求操作转换成<span class="built_in">string</span>以属性单个进行存储取值方式则他们这几个数据是分散分离的：</span><br></pre></td></tr></table></figure>
<hr>
<p>|—————————————–         ———–         |<br>|| h_user user:id:3506728370       :name |——–&gt;|  春晚  |          |<br>|—————————————–         ———–         |<br>|                                                                      |<br>|—————————————–         ————        |<br>|| h_user user:id:3506728370       :fans |——–&gt;| 12210862 |        |<br>|—————————————–         ————        |<br>|                                                                      |<br>|——————————————         ———–        |<br>|| h_user user:id:3506728370       :blogs |——–&gt;|  83     |        |<br>|——————————————         ———–        |</p>
<hr>
<pre><code>|       |       |
|       |       |
|       |       |
↓       ↓       ↓</code></pre><hr>
<p>|                              ————————————–  |<br>|                              |                                    |  |<br>|——————————|———–         ———       |  |<br>|| h_user user:id:3506728370   |   :name |——–&gt;|  春晚  |       |  |<br>|——————————|———-         ———-       |  |<br>|                              |                                    |  |<br>|——————————|———-         ————     |  |<br>|| h_user user:id:3506728370   |   :fans |——–&gt;| 12210862 |     |  |<br>|——————————|———-         ————     |  |<br>|                              |                                    |  |<br>|——————————|———–         ——–        |  |<br>|| h_user user:id:3506728370   |   :blogs |——–&gt;|  83 |         |  |<br>|——————————|———–         ——–        |  |<br>|                              |                                    |  |<br>|                              ————————————–  |<br>|————————————————————————<br>                   |       |       |<br>                   |       |       |<br>                   |       |       |<br>                   ↓       ↓       ↓<br>#换结构；左边主键合一；右边将属性对上其值放一块；redis为键值对数据库；类似于redis里面放redis的意思；😂；对应的数据还是value</p>
<hr>
<p>|                                               ————————————–  |<br>|                                               | 存储空间                           |  |<br>|                                               |   ——–         ———-      |  |<br>|                                               |   | name |         |  春晚  |      |  |<br>|                                               |   ——–         ———-      |  |<br>|—————————–                  |                                    |  |<br>|| h_user user:id:3506728370 |—————–&gt;|   ——–         ————    |  |<br>|—————————–                  |   | fans |         | 12210862 |    |  |<br>|                                               |   ——–         ————    |  |<br>|                                               |                                    |  |<br>|                                               |   ———         ——–       |  |<br>|                                               |   | blogs |         |  83  |       |  |<br>|                                               |   ———         ——–       |  |<br>|                                               |                                    |  |<br>|                                               ————————————–  |</p>
<hr>
<pre><code>|       |       |
|       |       |
|       |       |
↓       ↓       ↓</code></pre><hr>
<p>|                                               ———————————————————– - |<br>|                                               | 存储空间（右边的该结构即hash）                             |  |<br>|                                               |   ——————–         ——————–      |  |<br>|                                               |   |  field  |  name |         |  value  |  春晚  |        |  |<br>|                                               |   ——————–         ——————–      |  |<br>|—————————————-       |                                                          |  |<br>||   key    | h_user user:id:3506728370 |——&gt;|   ——————–         ———————-    |  |<br>|—————————————-       |   |  field  |  fans |         |  value  |  12210862 |    |  |<br>|                                               |   ——————–         ———————-    |  |<br>|                                               |                                                          |  |<br>|                                               |   ——————–         ——————–      |  |<br>|                                               |   |  field  |  blogs |         |  value  |  83  |        |  |<br>|                                               |   ——————–         ——————–      |  |<br>|                                               |                                                          |  |<br>|                                               ————————————————————  |</p>
<hr>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">或者说key对应的不再是一个单独的数据了；而是一堆数据；</span><br><span class="line">而这一对数据它的整体结构和前面所看的那个结构是一模一样的；这就是所谓的hash类型；</span><br><span class="line"></span><br><span class="line">#### hash类型</span><br><span class="line"></span><br><span class="line">* 新的存储需求：对一系列存储的数据进行编组，方便管理，典型应用存储对象信息；（可以理解为是redis当中的小型redis）</span><br><span class="line">* 需要的存储结构：一个存储空间保存多个键值对数据；</span><br></pre></td></tr></table></figure>
<hr>
<p>|                                               ———————————————————– - |<br>|                                               | hash存储空间                                              |  |<br>|                                               |   ——————–         ——————-       |  |<br>|                                               |   |      field1     |          |      value1     |       |  |<br>|                                               |   ——————–         ——————-       |  |<br>|—————————————-       |                                                          |  |<br>||                key                   |——&gt;|   ——————–        ———————-     |  |<br>|—————————————-       |   |      field2     |          |      value2     |       |  |<br>|                                               |   ——————–        ———————-     |  |<br>|                                               |                                                          |  |<br>|                                               |   ——————–         ——————–      |  |<br>|                                               |   |      field3      |         |      value3     |       |  |<br>|                                               |   ——————–         ——————–      |  |<br>|                                               |                                                          |  |<br>|                                               ————————————————————  |</p>
<hr>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">hash</span>底层其实为一个<span class="built_in">hash</span>表的存储结构；  </span><br><span class="line"><span class="built_in">hash</span>存储结构优化：  </span><br><span class="line"></span><br><span class="line">* 如果field数量较少，存储结构优化为类数组（还不是真数组）结构</span><br><span class="line">* 如果field数量较多，存储结构使用HashMap结构</span><br><span class="line"></span><br><span class="line"><span class="comment">#### hash 类型数据的基本操作</span></span><br><span class="line"></span><br><span class="line">* 添加/修改数据(属性存在则进行修改；属性不存在则进行新增)</span><br></pre></td></tr></table></figure>
<p>  hset key field value<br>  <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>获取数据</span><br></pre></td></tr></table></figure><br>  hget key field<br>  hgetall key<br>  <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>删除数据</span><br></pre></td></tr></table></figure><br>  hdel key field1 [field2 …]<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">示例：</span><br></pre></td></tr></table></figure></p>
<h1 id="设置值"><a href="#设置值" class="headerlink" title="设置值"></a>设置值</h1><p>127.0.0.1:6379&gt; hset user name laowang<br>(integer) 1<br>127.0.0.1:6379&gt; hset user age 100<br>(integer) 1<br>127.0.0.1:6379&gt; hset user gender girl<br>(integer) 1</p>
<h1 id="将值全部取出"><a href="#将值全部取出" class="headerlink" title="将值全部取出"></a>将值全部取出</h1><p>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “age”<br>4) “100”<br>5) “gender”<br>6) “girl”</p>
<h1 id="进行单个取值"><a href="#进行单个取值" class="headerlink" title="进行单个取值"></a>进行单个取值</h1><p>127.0.0.1:6379&gt; hget user name<br>“laowang”<br>127.0.0.1:6379&gt; hget user gender<br>“girl”<br>127.0.0.1:6379&gt; hget user age<br>“100”</p>
<h1 id="进行删除属性"><a href="#进行删除属性" class="headerlink" title="进行删除属性"></a>进行删除属性</h1><p>127.0.0.1:6379&gt; hdel user gender<br>(integer) 1<br>127.0.0.1:6379&gt; hdel user age name<br>(integer) 2<br>127.0.0.1:6379&gt; hdel user age<br>(integer) 0<br>127.0.0.1:6379&gt; hgetall user<br>(empty list or set)</p>
<h1 id="设置值；重新赋值则覆盖原来存在的值"><a href="#设置值；重新赋值则覆盖原来存在的值" class="headerlink" title="设置值；重新赋值则覆盖原来存在的值"></a>设置值；重新赋值则覆盖原来存在的值</h1><p>127.0.0.1:6379&gt; hset user name laowang<br>(integer) 1<br>127.0.0.1:6379&gt; hset user name laoli<br>(integer) 0<br>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laoli”<br>127.0.0.1:6379&gt; hset user name laowang<br>(integer) 0<br>127.0.0.1:6379&gt; hget user name<br>“laowang”</p>
<h1 id="查看长度；检查的是field的数量；"><a href="#查看长度；检查的是field的数量；" class="headerlink" title="查看长度；检查的是field的数量；"></a>查看长度；检查的是field的数量；</h1><p>127.0.0.1:6379&gt; hlen user<br>(integer) 1</p>
<h1 id="检查field是否存在；0不存在；1存在"><a href="#检查field是否存在；0不存在；1存在" class="headerlink" title="检查field是否存在；0不存在；1存在"></a>检查field是否存在；0不存在；1存在</h1><p>127.0.0.1:6379&gt; hexists user gender<br>(integer) 0<br>127.0.0.1:6379&gt; hexists user name<br>(integer) 1</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 数据类型-hash扩展操作与使用注意事项</span><br><span class="line"></span><br><span class="line">#### hash 类型数据扩展操作</span><br><span class="line"></span><br><span class="line">(key当中的field不会进行重复，就如果重复设置相同的field将会发生覆盖；而不同的field所对应的是允许相同值存在的)</span><br></pre></td></tr></table></figure>
<p>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “gender”<br>4) “101.09”<br>5) “age”<br>6) “101.09”<br>127.0.0.1:6379&gt; hset user name laoli<br>(integer) 0<br>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laoli”<br>3) “gender”<br>4) “101.09”<br>5) “age”<br>6) “101.09”</p>
<p>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “gender”<br>4) “girl”<br>5) “age”<br>6) “101.09”<br>127.0.0.1:6379&gt; hset user gender 101.09<br>(integer) 0<br>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “gender”<br>4) “101.09”<br>5) “age”<br>6) “101.09”</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="bullet">* </span>获取哈希表中所有的字段名或字段值</span><br></pre></td></tr></table></figure>
<p>  hkeys key<br>  hvals key<br>  <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>设置指定字段的数值数据增加指定范围的值</span><br></pre></td></tr></table></figure><br>  hincrby key field increment<br>  hincrbyfloat key field increment<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">示例：</span><br></pre></td></tr></table></figure><br>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “gender”<br>4) “girl”<br>5) “age”<br>6) “100”<br>127.0.0.1:6379&gt; hkeys user</p>
<p>1) “name”<br>2) “gender”<br>3) “age”<br>127.0.0.1:6379&gt; hvals user</p>
<p>1) “laowang”<br>2) “girl”<br>3) “100”<br>127.0.0.1:6379&gt; hincrby user age 1<br>(integer) 101<br>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “gender”<br>4) “girl”<br>5) “age”<br>6) “101”<br>127.0.0.1:6379&gt; hincrbyfloat user age 0.09<br>“101.09”<br>127.0.0.1:6379&gt; hgetall user</p>
<p>1) “name”<br>2) “laowang”<br>3) “gender”<br>4) “girl”<br>5) “age”<br>6) “101.09”</p>
<p>127.0.0.1:6379&gt; hset user2 name laowang<br>(integer) 1</p>
<h1 id="返回形式都是通过列表的形式进行返回"><a href="#返回形式都是通过列表的形式进行返回" class="headerlink" title="返回形式都是通过列表的形式进行返回"></a>返回形式都是通过列表的形式进行返回</h1><p>127.0.0.1:6379&gt; hkeys user2</p>
<p>1) “name”</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="section">#### hash类型数据操作的注意事项</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">* </span>hash类型下的value只能存储字符串，不允许存储其他数据类型，不允许嵌套现象。如果数据未获取到，对应的值为（nil）</span><br><span class="line"><span class="bullet">* </span>每个hash 可以存储2^32 - 1 个键值对；（上限）</span><br><span class="line"><span class="bullet">* </span>hash类型十分贴近对象的数据存储形式，并且可以灵活添加删除对象属性。但是hash设计初衷<span class="strong">**不是为了存储大量对象而设计**</span>的，<span class="strong">**切记不可滥用**</span>，<span class="strong">**更不可以将hash作为对象列表使用**</span>(随着存储大量对象，那么效率将会降低)；</span><br><span class="line"><span class="bullet">* </span>hgetall 操作可以获取全部属性，如果内部field过多，遍历整体数据效率就会低，有可能成为数据访问瓶颈。（每次查询的时候最好是要哪个查询那个即使用hget key field这种方式；因为有些时候拿出一些不需要的数据有个时候会很影响效率）</span><br><span class="line"></span><br><span class="line"><span class="section">### 数据类型-hash实现购物车</span></span><br><span class="line"></span><br><span class="line"><span class="section">#### hash 类型应用场景</span></span><br><span class="line"></span><br><span class="line"><span class="section">##### 业务场景</span></span><br><span class="line"></span><br><span class="line">电商网站购物车设计与实现  </span><br><span class="line"></span><br><span class="line">（京东电商网站购物车）  </span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>不同用户的购物车是共用还是各用个的（每个用户的id可以进行区分）；</span><br><span class="line"><span class="bullet">2. </span>一个购物车中是一样商品还是多样商品?</span><br><span class="line"><span class="bullet">3. </span>一个商品存在有对应购买的数量；</span><br><span class="line"></span><br><span class="line">此时:  </span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>可以使用  用户id:key  ，即用户id作为key；</span><br><span class="line"><span class="bullet">2. </span>用用户所买的商品编号作为field，即 商品id:field；</span><br><span class="line"><span class="bullet">3. </span>那么对应的value即该商品所购买的数量，即 数量:value；</span><br><span class="line"><span class="bullet">4. </span>那么此时结构完成。</span><br><span class="line"></span><br><span class="line">问题： 购物车所对应的操作，redis当中的hash是否支持？  </span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>商品数量的读取：取值：hget</span><br><span class="line"><span class="bullet">2. </span>商品数量的增加、设置：增加:hincrby；设置:hset</span><br><span class="line"><span class="bullet">3. </span>删除购物车中某一商品: 删除:hdel</span><br><span class="line"><span class="bullet">4. </span>全选获取得到全部的商品：全选:hgetall</span><br><span class="line"><span class="bullet">5. </span>获取商品总数量: 总量:hlen</span><br><span class="line"></span><br><span class="line"><span class="section">##### 业务分析</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">* </span>仅分析购物车的redis存储模型</span><br><span class="line"><span class="bullet">  * </span>添加、浏览、更改数量、删除、清空</span><br><span class="line"><span class="bullet">* </span>购物车与数据库间持久化同步（不讨论）</span><br><span class="line"><span class="bullet">* </span>购物车与订单间关系（不讨论）</span><br><span class="line"><span class="bullet">  * </span>提交购物车：读取数据生成订单</span><br><span class="line"><span class="bullet">  * </span>商家临时价格调整：隶属于订单级别</span><br><span class="line"><span class="bullet">* </span>未登录用户购物车信息存储（不讨论）</span><br><span class="line"><span class="bullet">  * </span>cookie存储</span><br><span class="line"></span><br><span class="line"><span class="section">##### 解决方案</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">* </span>以客户id作为key，每位客户创建一个hash存储结构存储对应的购物车信息</span><br><span class="line"><span class="bullet">* </span>将商品编号作为field，购买数量作为value进行存储</span><br><span class="line"><span class="bullet">* </span>添加商品，追加全新的field与value</span><br><span class="line"><span class="bullet">* </span>浏览：遍历hash</span><br><span class="line"><span class="bullet">* </span>更改数量：自增/自减，设置value值</span><br><span class="line"><span class="bullet">* </span>删除商品：删除field</span><br><span class="line"><span class="bullet">* </span>清空：删除field</span><br><span class="line"></span><br><span class="line">示例：</span><br></pre></td></tr></table></figure>
<p>127.0.0.1:6379&gt; hmset 001 g01 100 g02 200<br>OK<br>127.0.0.1:6379&gt; hmset 002 g02 1 g04 7 g06 100<br>OK<br>127.0.0.1:6379&gt; hset 001 g03 9<br>(integer) 1<br>127.0.0.1:6379&gt; hgetall 001</p>
<p>1) “g01”<br>2) “100”<br>3) “g02”<br>4) “200”<br>5) “g03”<br>6) “9”<br>127.0.0.1:6379&gt; hdel 001 g01<br>(integer) 1<br>127.0.0.1:6379&gt; hgetall 001</p>
<p>1) “g02”<br>2) “200”<br>3) “g03”<br>4) “9”<br>127.0.0.1:6379&gt; hincrby 001 g03 1<br>(integer) 10<br>127.0.0.1:6379&gt; hgetall 001</p>
<p>1) “g02”<br>2) “200”<br>3) “g03”<br>4) “10”</p>
<pre><code>
##### 当前设计是否加速了购物车的呈现

当前仅仅是将数据存储到了redis中，并没有起到加速的作用，商品信息还需要二次查询数据库

购物车到底看到的是什么，第一个商品id是什么?  
商品信息还必须二次去数据库进行查询；

当前的这种方案查看购物车只是存购物车，并没有提高效率；

##### 分析要解决的问题

* 每条购物车中的商品记录保存成两条field

### hash实现抢购

### 数据类型-list类型介绍与基本操作

### 数据类型-list阻塞数据获取

### 数据类型-list扩展操作删除数据

### 数据类型-list实现日志消息队列

### 数据类型-set类型介绍与基本操作

### 数据类型-set操作随机数据

### 数据类型-set数据交并差操作

### 数据类型-set实现权限校验

### 数据类型-set实现网站访问量统计

### 数据类型-set实现黑白名单

### set类型介绍与基本操作

### 数据类型-sorted_set基本操作（2）

### 数据类型-sorted_set实现排行榜

### set实现时效性任务管理

### set带有权重的任务管理

### 数据类型-案例-按次结算的服务控制

### 数据类型-案例-微信接收消息顺序控制

### 通用指令-key基本操作

### 通用指令-key时效性控制操作

### 通用指令-key查询操作

### 通用指令-key其他操作

### 通用指令-db基本操作

### 通用指令-db其他操作

### jedis-jedis简介

### jedis-helloworld（jedis版）

### jedis-jedis常规操作演示

### jedis-业务请求次数控制案例需求分析

### jedis-程序结构搭建

### jedis-程序代码实现

### jedis-工具类制作

### jedis-可视化客户端介绍

### linux环境安装redis-基于Linux安装redis

### linux环境安装redis-指定端口启动服务

### linux环境安装redis-指定配置文件启动服务

### linux环境安装redis-配置文件启动目录管理

### 持久化-持久化简介

#### 课程安排

##### 课程计划

&gt; Windows环境

1. Redis基础
  * Redis入门
  * 数据类型
  * 通用命令
  * Jedis

&gt; Linux 环境

2. Redis高级
  * Redis安装
  * 持久化
  * 事务
  * 删除策略
  * redis.conf
  * 高级数据类型
3. Redis集群
4. 企业级解决方案

#### 目录Contents

* 持久化简介
* RDB
* AOF
* RDB与AOF区别
* 持久化应用场景

首先什么是持久化？

针对redis当中的持久化方案进行逐一讲解，并对方案之间进行一个比对；

#### 意外的断电

写论文的时候断电了。

#### “自动备份”

其实是将内存当中的数据与在硬盘当中的数据做了一个关联。



























































### 持久化-save指令

### 持久化-RDB相关配置

### 持久化-数据恢复过程演示

### 持久化-save指令工作原理

### 持久化-bgsave指令与工作原理

### 持久化-save配置与工作原理

### 持久化-RDB三种启动方式对比与优缺点分析

### 持久化-AOF简介

### 持久化-AOF持久化策略基本操作

### 持久化-AOF重写概念与命令执行

### 持久化-AOF自动重写配置

### 持久化-AOF重写工作原理

### 持久化-RDB与AOF方案对比

### 持久化-持久化应用场景分析

### 事务-redis事务简介

### 事务-事务的基本操作（定义，取消，执行）

### 事务-事务的工作流程

### 事务-事务操作的注意事项

### 事务-锁

### 事务-死锁解决方案

### 删除策略-过期数据的概念

### 删除策略-过期数据的底层存储结构

### 删除策略-定时删除与惰性删除

### 删除策略-定期删除

### 删除策略-逐出策略

### 服务器配置-redis.conf配置

### 高级数据类型-bitmaps介绍与基本操作

### 高级数据类型-bitmaps扩展操作

### 高级数据类型-HyperLogLog

### 高级数据类型-CEO

### 主从复制-主从复制简介

### 主从复制-主从复制的作用

### 主从复制-主从复制的三个阶段

### 主从复制-工作流程（1）建立连接阶段

### 主从复制-搭建主从结构

### 主从复制-工作流程（2）数据同步阶段（简）

### 主从复制-数据同步阶段注意事项

### 主从复制-运行id(runid)

### 主从复制-复制缓冲区与偏移量

### 主从复制-工作流程（2）数据同步与命令传播阶段（全）

### 主从复制-心跳机制与命令传播阶段工作流程

### 主从复制-常见问题（1）

### 主从复制-常见问题（2）

### 主从复制-常见问题（3）

### 哨兵-哨兵简介

### 哨兵-哨兵结构搭建

### 哨兵-工作原理（1）

### 哨兵-工作原理（2）

### 哨兵-工作原理（3）

### 集群-集群简介

### 集群-集群存储结构设计

### 集群-cluster集群搭建

### 集群-设置与获取数据

### 集群-主从下线与主从切换

### 企业级解决方案-缓存预热

### 企业级解决方案-缓存雪崩

### 企业级解决方案-缓存击穿

### 企业级解决方案-缓存穿透

### 企业级解决方案-性能指标监控

### 企业级解决方案-性能指标监控命令</code></pre>
      
    </div>
    
    
    



<div>
    
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script>
  <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css">

  <p><span>本文标题:</span>112节Redis入门到精通【黑马程序员】📝</a></p>
  <p><span>文章作者:</span>Fsn✨🧙‍♀️✨</a></p>
  <p><span>发布时间:</span>2020年05月13日 - 21:49:09🌞</p>
  <p><span>最后更新:</span>2020年06月06日 - 01:55:01🌜</p>
  <p><span>原始链接:</span><a href="/2020/05/13/%E3%80%90REDIS%E3%80%91/%E3%80%90REDIS%E3%80%91112%E8%8A%82Redis%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%E3%80%90%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98%E3%80%91/" title="112节Redis入门到精通【黑马程序员】">https://fengshana.github.io/2020/05/13/%E3%80%90REDIS%E3%80%91/%E3%80%90REDIS%E3%80%91112%E8%8A%82Redis%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%E3%80%90%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98%E3%80%91/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://fengshana.github.io/2020/05/13/%E3%80%90REDIS%E3%80%91/%E3%80%90REDIS%E3%80%91112%E8%8A%82Redis%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%E3%80%90%E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98%E3%80%91/"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。🎄	</p>  
</div>
<style>
</style>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    clipboard.on('success', $(function(){
      $(".fa-clipboard").click(function(){
        //swal({   
          //title: "",   
         // text: '<div style="width:300px;height:100px;font-size:14px;">道友，复制成功了哟(＾Ｕ＾)ノ~</div>',   
          //html: true,
          //timer: 500,   
        //showConfirmButton: false
        //});
      });
      new ClipboardJS('.fa-clipboard', {
          target: function(trigger) {
              $('<div>').appendTo('body').addClass('alert alert-success').html('🤠道友ᕦ(･ㅂ･)ᕤ，🥭复制成功了哟(^_−)☆').show().delay(1500).fadeOut();
              return trigger.nextElementSibling;
            }
      });
    }));  
</script>


    
</div>



    








<div>
  
    <div>
    
        <br/>
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------🍓🍇本文结束🤞感谢道友的阅读🍍🍒-------------</div>
    
</div>
  
</div>












    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>🥕🍆坚持原创技术分享🐳，🌽🥬您的支持将鼓励我继续创作！🐬</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatreward.png" alt="Fsn✨🧙‍♀️✨ 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipayreward.png" alt="Fsn✨🧙‍♀️✨ 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    










    <footer class="post-footer">
      
        <div class="post-tags" style="text-align:center">
          
            <a href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">🌟面试</i></a>
          
            <a href="/tags/redis/" rel="tag">🌟redis</i></a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/05/12/%E3%80%90REDIS%E3%80%91/%E3%80%90REDIS%E3%80%91redis%E7%BC%93%E5%AD%984%E5%A4%A7%E9%97%AE%E9%A2%98/" rel="next" title="缓存四大问题">
                👈 缓存四大问题
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/05/16/%E3%80%90%E5%BF%83%E6%83%85%E3%80%91/%E8%BF%99%E4%B8%96%E9%97%B4%EF%BC%8C%E5%94%AF%E6%9C%89%E9%9D%92%E6%98%A5%E4%B8%8E%E6%A2%A6%E6%83%B3%E4%B8%8D%E5%8F%AF%E8%BE%9C%E8%B4%9F/" rel="prev" title="这世间，唯有青春与梦想不可辜负">
                这世间，唯有青春与梦想不可辜负 👉
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80ODk3My8yNTQ2Nw=="></div>
    </div>

  
  
  

  
  


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/fsn.jpg"
                alt="Fsn✨🧙‍♀️✨" />
            
              <p class="site-author-name" itemprop="name">Fsn✨🧙‍♀️✨</p>
              <p class="site-description motion-element" itemprop="description">🌈勿忘初心💫 🌞，🌜方得始终⭐</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <!--<a href="/archives/%7C%7Carchive">-->
                <a href="/archives/">
              
                  <span class="site-state-item-count">152</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">81</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/fengshana" target="_blank" title="GitHub">
                      
                        <i 

                          
                          class="fa fa-fw fa-github">
                          
                         
                        
                        </i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://space.bilibili.com/475144966" target="_blank" title="Bilibili">
                      
                        <i 

                          
                            class="">🏃‍♂️
                          
                         
                        
                        </i>Bilibili</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#112节Redis入门到精通【黑马程序员】"><span class="nav-number">2.</span> <span class="nav-text">112节Redis入门到精通【黑马程序员】</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#课程安排"><span class="nav-number">2.1.</span> <span class="nav-text">课程安排</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Windows环境进行讲解"><span class="nav-number">2.1.1.</span> <span class="nav-text">Windows环境进行讲解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux环境实操（实操性实用性强）"><span class="nav-number">2.1.2.</span> <span class="nav-text">Linux环境实操（实操性实用性强）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis入门-NoSQL介绍"><span class="nav-number">2.2.</span> <span class="nav-text">redis入门-NoSQL介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#目录"><span class="nav-number">2.2.1.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#中国被世界黑的最惨的一天"><span class="nav-number">2.2.2.</span> <span class="nav-text">中国被世界黑的最惨的一天</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#不可回避的问题"><span class="nav-number">2.2.3.</span> <span class="nav-text">不可回避的问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#一个神奇的网站"><span class="nav-number">2.2.4.</span> <span class="nav-text">一个神奇的网站</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#大型翻车现场"><span class="nav-number">2.2.5.</span> <span class="nav-text">大型翻车现场</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#问题现象"><span class="nav-number">2.2.6.</span> <span class="nav-text">问题现象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#罪魁祸首—–关系型数据库"><span class="nav-number">2.2.7.</span> <span class="nav-text">罪魁祸首—–关系型数据库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决思路"><span class="nav-number">2.2.8.</span> <span class="nav-text">解决思路</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#NoSQL"><span class="nav-number">2.2.8.1.</span> <span class="nav-text">NoSQL</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#解决方案"><span class="nav-number">2.2.8.2.</span> <span class="nav-text">解决方案</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#解决方案（电商场景为例）"><span class="nav-number">2.2.8.3.</span> <span class="nav-text">解决方案（电商场景为例）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis入门-redis简介"><span class="nav-number">2.3.</span> <span class="nav-text">redis入门-redis简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#特征"><span class="nav-number">2.3.1.</span> <span class="nav-text">特征</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Redis的应用"><span class="nav-number">2.3.2.</span> <span class="nav-text">Redis的应用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis入门-redis下载安装与服务启动"><span class="nav-number">2.4.</span> <span class="nav-text">redis入门-redis下载安装与服务启动</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Redis-的下载"><span class="nav-number">2.4.1.</span> <span class="nav-text">Redis 的下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装Redis"><span class="nav-number">2.4.2.</span> <span class="nav-text">安装Redis</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动Redis"><span class="nav-number">2.4.3.</span> <span class="nav-text">启动Redis</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redis入门-redis基础操作"><span class="nav-number">2.5.</span> <span class="nav-text">redis入门-redis基础操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#命令行模式工具使用思考"><span class="nav-number">2.5.1.</span> <span class="nav-text">命令行模式工具使用思考</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#信息添加-往里放"><span class="nav-number">2.5.1.1.</span> <span class="nav-text">信息添加(往里放)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#信息查询-往外取"><span class="nav-number">2.5.1.2.</span> <span class="nav-text">信息查询(往外取)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#清除屏幕信息"><span class="nav-number">2.5.1.3.</span> <span class="nav-text">清除屏幕信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#帮助"><span class="nav-number">2.5.1.4.</span> <span class="nav-text">帮助</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#退出客户端命令行模式"><span class="nav-number">2.5.1.5.</span> <span class="nav-text">退出客户端命令行模式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#总结"><span class="nav-number">2.5.2.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Redis入门"><span class="nav-number">2.5.2.1.</span> <span class="nav-text">Redis入门</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型-数据类型简介"><span class="nav-number">2.6.</span> <span class="nav-text">数据类型-数据类型简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#课程安排-1"><span class="nav-number">2.6.1.</span> <span class="nav-text">课程安排</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#课程计划"><span class="nav-number">2.6.1.1.</span> <span class="nav-text">课程计划</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Windows环境"><span class="nav-number">2.6.1.1.1.</span> <span class="nav-text">Windows环境</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#linux环境"><span class="nav-number">2.6.1.1.2.</span> <span class="nav-text">linux环境</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Redis数据类型"><span class="nav-number">2.6.2.</span> <span class="nav-text">Redis数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#目录Contents"><span class="nav-number">2.6.2.1.</span> <span class="nav-text">目录Contents</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#业务数据的特殊性"><span class="nav-number">2.6.3.</span> <span class="nav-text">业务数据的特殊性</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#作为缓存使用"><span class="nav-number">2.6.3.1.</span> <span class="nav-text">作为缓存使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#附加功能"><span class="nav-number">2.6.3.2.</span> <span class="nav-text">附加功能</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Redis数据类型（5种常用的数据类型）"><span class="nav-number">2.6.3.3.</span> <span class="nav-text">Redis数据类型（5种常用的数据类型）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型-string基本操作"><span class="nav-number">2.7.</span> <span class="nav-text">数据类型-string基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#目录Contents-1"><span class="nav-number">2.7.1.</span> <span class="nav-text">目录Contents</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#redis-数据存储格式"><span class="nav-number">2.7.2.</span> <span class="nav-text">redis 数据存储格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#string-类型"><span class="nav-number">2.7.3.</span> <span class="nav-text">string 类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#string-类型数据的基本操作"><span class="nav-number">2.7.4.</span> <span class="nav-text">string 类型数据的基本操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型-单指令操作与多指令操作的选择之惑"><span class="nav-number">2.8.</span> <span class="nav-text">数据类型-单指令操作与多指令操作的选择之惑</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#string-类型数据的基本操作-1"><span class="nav-number">2.8.1.</span> <span class="nav-text">string 类型数据的基本操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#单数据操作与多数据操作的选择之惑"><span class="nav-number">2.8.2.</span> <span class="nav-text">单数据操作与多数据操作的选择之惑</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#查看-incrby-命令详细"><span class="nav-number"></span> <span class="nav-text">查看 incrby 命令详细</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#为一个key增加一个整数值；by-the-given-amount-用给定的值进行增加；"><span class="nav-number"></span> <span class="nav-text">为一个key增加一个整数值；by the given amount 用给定的值进行增加；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#即默认incr-是-1；decr-是-1"><span class="nav-number"></span> <span class="nav-text">即默认incr 是+1；decr 是 -1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#而incrby-与-decrby-则是让它-n；或者是让它-n；"><span class="nav-number"></span> <span class="nav-text">而incrby 与 decrby 则是让它 +n；或者是让它 -n；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#incrbyfloat-float则与小数有关；"><span class="nav-number"></span> <span class="nav-text">incrbyfloat float则与小数有关；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#尝试-incrby-添加的increment为float类型取值"><span class="nav-number"></span> <span class="nav-text">尝试 incrby 添加的increment为float类型取值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#报错；错误值不是一个integer类型取值或者超出其范围取值"><span class="nav-number"></span> <span class="nav-text">报错；错误值不是一个integer类型取值或者超出其范围取值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#即-incr、incrby、decr、decrby专用于操作整数；incrbyfloat用于操作小数"><span class="nav-number"></span> <span class="nav-text">即 incr、incrby、decr、decrby专用于操作整数；incrbyfloat用于操作小数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#需要注意的一点是：incrby-与-decrby-后面的取值-increment与-decrement可以是正数也可以是负数；"><span class="nav-number"></span> <span class="nav-text">需要注意的一点是：incrby 与 decrby 后面的取值 increment与 decrement可以是正数也可以是负数；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#num1-1-1-1-0"><span class="nav-number"></span> <span class="nav-text">( + num1 ) + ( - 1 ) &#x3D; 1 - 1 &#x3D; 0</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#num1-1-0-1-1"><span class="nav-number"></span> <span class="nav-text">( + num1 ) + ( 1 ) &#x3D; 0 + 1 &#x3D; 1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#num1-2-1-2-1"><span class="nav-number"></span> <span class="nav-text">( + num1 ) + ( - 2 ) &#x3D; 1 - 2 &#x3D; -1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#num1-2-1-2-3"><span class="nav-number"></span> <span class="nav-text">( + num1 ) + ( - 2 ) &#x3D; -1 - 2 &#x3D; -3</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#num1-1-3-3-3-3-0"><span class="nav-number"></span> <span class="nav-text">( + num1 ) + ( - 1 ) &#x3D; -3 - ( -3 ) &#x3D; -3 + 3 &#x3D; 0</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-第一种情况：原始数据不能转成数值"><span class="nav-number"></span> <span class="nav-text">1. 第一种情况：原始数据不能转成数值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-第二种情况，超越redis数值上限范围"><span class="nav-number"></span> <span class="nav-text">2. 第二种情况，超越redis数值上限范围</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-这两个命令的差别在于生命周期的单位不同"><span class="nav-number"></span> <span class="nav-text">1. 这两个命令的差别在于生命周期的单位不同</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-setex命令的时间单位为-秒seconds"><span class="nav-number"></span> <span class="nav-text">2. setex命令的时间单位为 秒seconds</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-psetex命令的时间单位为-毫秒milliseconds"><span class="nav-number"></span> <span class="nav-text">3. psetex命令的时间单位为 毫秒milliseconds</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#格式：setex-key-seconds-value"><span class="nav-number"></span> <span class="nav-text">格式：setex key seconds value</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#格式：psetex-key-milliseconds-value"><span class="nav-number"></span> <span class="nav-text">格式：psetex key milliseconds value</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如果在-setex-之后重新对同一个键进行-set-key-value；则setex命令所指定的生命周期将不再起作用"><span class="nav-number"></span> <span class="nav-text">如果在 setex 之后重新对同一个键进行 set key value；则setex命令所指定的生命周期将不再起作用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表名：主键名：主键值：属性名"><span class="nav-number"></span> <span class="nav-text">表名：主键名：主键值：属性名</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#是直接存储属性取值还是通过json方式哪一种比较好；"><span class="nav-number"></span> <span class="nav-text">是直接存储属性取值还是通过json方式哪一种比较好；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第一种可以取第二种也可以取出；"><span class="nav-number"></span> <span class="nav-text">第一种可以取第二种也可以取出；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第一种改变数据会要方便一些；"><span class="nav-number"></span> <span class="nav-text">第一种改变数据会要方便一些；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第二种一改全改；两者没有说好坏需要看具体的业务逻辑情况、业务场景而定、选择；"><span class="nav-number"></span> <span class="nav-text">第二种一改全改；两者没有说好坏需要看具体的业务逻辑情况、业务场景而定、选择；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#设置值"><span class="nav-number"></span> <span class="nav-text">设置值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#将值全部取出"><span class="nav-number"></span> <span class="nav-text">将值全部取出</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进行单个取值"><span class="nav-number"></span> <span class="nav-text">进行单个取值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进行删除属性"><span class="nav-number"></span> <span class="nav-text">进行删除属性</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#设置值；重新赋值则覆盖原来存在的值"><span class="nav-number"></span> <span class="nav-text">设置值；重新赋值则覆盖原来存在的值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#查看长度；检查的是field的数量；"><span class="nav-number"></span> <span class="nav-text">查看长度；检查的是field的数量；</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#检查field是否存在；0不存在；1存在"><span class="nav-number"></span> <span class="nav-text">检查field是否存在；0不存在；1存在</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#返回形式都是通过列表的形式进行返回"><span class="nav-number"></span> <span class="nav-text">返回形式都是通过列表的形式进行返回</span></a></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      


      
<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
<div class="widget-wrap">
    <div id="myCanvasContainer" class="widget tagcloud">
        <canvas width="300" height="300" id="resCanvas" style="width=100%; background-color:transparent;">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ArrayList/" rel="tag">ArrayList</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/B-%E6%A0%91/" rel="tag">B+树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/B%E6%A0%91/" rel="tag">B树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CORS/" rel="tag">CORS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git%E5%B7%A5%E4%BD%9C%E6%B5%81/" rel="tag">Git工作流</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HASH%E8%A1%A8/" rel="tag">HASH表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HashMap/" rel="tag">HashMap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">JVM虚拟机</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MICROSERVICES/" rel="tag">MICROSERVICES</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql/" rel="tag">MySql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql%E7%B4%A2%E5%BC%95/" rel="tag">MySql索引</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PayPal/" rel="tag">PayPal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ%E5%AE%9E%E6%88%98%E6%8C%87%E5%8D%97/" rel="tag">RabbitMQ实战指南</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/" rel="tag">Redis设计与实现</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SendGrid/" rel="tag">SendGrid</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SprigBoot/" rel="tag">SprigBoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/" rel="tag">Spring技术内幕</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sql/" rel="tag">Sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuejs/" rel="tag">Vuejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaScript/" rel="tag">javaScript</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk8/" rel="tag">jdk8</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/motto/" rel="tag">motto</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oss/" rel="tag">oss</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/" rel="tag">springboot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/synchronized/" rel="tag">synchronized</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/" rel="tag">tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%B2/" rel="tag">串</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8B%E5%8A%A1/" rel="tag">事务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">二叉树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1666/" rel="tag">信666</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1666%E5%B7%A5%E4%BD%9C%E4%BA%A4%E6%8E%A5/" rel="tag">信666工作交接</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E9%A1%B5/" rel="tag">分页</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">前端面试题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8C%E8%89%B2%E7%90%83/" rel="tag">双色球</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%A3%E8%AF%AD/" rel="tag">口语</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE/" rel="tag">图</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" rel="tag">存储过程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1/" rel="tag">微信</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/" rel="tag">微信公众号</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E6%80%81/" rel="tag">心态</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E6%80%81%E8%AF%BE%E7%A8%8B/" rel="tag">心态课程</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E6%83%85/" rel="tag">心情</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">操作系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%94%AF%E4%BB%98/" rel="tag">支付</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/" rel="tag">数据库优化</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9F%A5%E6%89%BE/" rel="tag">查找</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/" rel="tag">栈与队列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91/" rel="tag">树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%81%E7%A8%8B%E5%9B%BE/" rel="tag">流程图</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%90%86%E8%A7%A3%E5%88%86%E6%9E%90/" rel="tag">理解分析</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%90%86%E8%B4%A2/" rel="tag">理财</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%90%86%E8%B4%A2%E5%AD%A6%E4%B9%A0/" rel="tag">理财学习</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B4%E6%92%AD/" rel="tag">直播</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A4%BE%E4%BC%9A%E4%B8%BB%E4%B9%89%E6%8E%A5%E7%8F%AD%E4%BA%BA/" rel="tag">社会主义接班人</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%A2%E9%BB%91%E6%A0%91/" rel="tag">红黑树</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%80%A7%E8%A1%A8/" rel="tag">线性表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%93%E5%AD%98/" rel="tag">缓存</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">虚拟机</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%8D%E6%B1%87/" rel="tag">词汇</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1/" rel="tag">邮件服务</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%94%81/" rel="tag">锁</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%86%E8%B5%AB/" rel="tag">领赫</a><span class="tag-list-count">11</span></li></ul>
        </canvas>
    </div>
</div>



    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">🌱2019 🍄 🌳

<span itemprop="copyrightYear">2020</span>
  <span class="with-love">
  <!--user-->
    🍉
  </span>
 
 <span class="author" itemprop="copyrightHolder">Fsn✨🧙‍♀️✨</span>

  





  <script async src="http://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
 
     🏃‍♂️ 
    <span class="post-meta-item-icon">
      📈
    </span>
    
      <span class="post-meta-item-text">小屋💒总字数：</span>
    
	<span title="Site words total count">
     583.9k🌟 </span>
    <!--<span title="symbols_count_time.count_total">1.1m</span>-->
  
</div>



  <!-- <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>-->






<!--



 -->
 






        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-beta.2/lazyload.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  













  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  
  <script type="text/javascript" src="/js/src/exturl.js?v=5.1.4"></script>


  
  
  
  <!-- 
  
  -->
  <link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>

  <!-- 代码块复制功能    <script src="dist/clipboard.min.js"></script>-->
  <script type="text/javascript" src="/js/src/clipboard.min.js"></script>
  <script type="text/javascript" src="/js/src/clipboard-use.js"></script>
  


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":250,"vOffset":-10},"mobile":{"show":false},"log":false,"tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>

<!--崩溃欺骗 <script type="text/javascript" src="/js/src/crash_cheat.js"></script> -->




